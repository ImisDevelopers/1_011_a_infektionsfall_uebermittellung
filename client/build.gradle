plugins {
  id "com.github.node-gradle.node" version "1.5.3"
}

apply plugin: 'base'
version '0.0.1'

node {
  version = '13.7.0'
  download = true
}

task buildFrontend(type: YarnTask) {
  args = ['build']
}

task lint(type: YarnTask) {
  args = ['run', 'lint']
}
task test(type: YarnTask) {
  args = ['run', 'test:unit']
}

task serve(type: YarnTask) {
  args = ['serve']
}

task generateClient(type: YarnTask){
  args=['run','generate:api-client']
}

lint.dependsOn(yarn_install)
buildFrontend.dependsOn(lint)
buildFrontend.dependsOn(yarn_install)
assemble.dependsOn(buildFrontend)