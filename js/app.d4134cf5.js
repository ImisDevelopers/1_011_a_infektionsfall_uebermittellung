(function(e){function t(t){for(var a,s,o=t[0],u=t[1],c=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0374":function(e,t,n){"use strict";n("cae9")},"0382":function(e,t,n){"use strict";n("c37b")},"0c97":function(e,t,n){"use strict";n("1d19")},"0f5a":function(e,t,n){},"1c88":function(e,t,n){},"1d19":function(e,t,n){},"233a":function(e,t,n){},"2a43":function(e,t,n){},"2e9f":function(e,t,n){"use strict";n("9425")},"3b76":function(e,t,n){},"3bb7":function(e,t,n){"use strict";n("9a36")},"3ed9":function(e,t,n){},4094:function(e,t,n){"use strict";n("0f5a")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},"484d":function(e,t,n){e.exports=n.p+"img/pt-logo.7a8e6f5c.png"},"4f40":function(e,t,n){"use strict";n("233a")},"63a6":function(e,t,n){},"641b":function(e,t,n){"use strict";n("1c88")},"6af2":function(e,t,n){e.exports=n.p+"img/tagesspiegel-background.57672009.jpeg"},"6ced":function(e,t,n){"use strict";n("82c4")},"7f9b":function(e,t,n){},"82c4":function(e,t,n){},"83ee":function(e,t,n){"use strict";n("8941")},8941:function(e,t,n){},9425:function(e,t,n){},"950d":function(e,t,n){"use strict";n("ed4c")},9649:function(e,t,n){},"9a36":function(e,t,n){},a07b:function(e,t,n){e.exports=n.p+"img/Solution-Enabler.bb2cb727.png"},a27b:function(e,t,n){"use strict";n("9649")},a35c:function(e,t,n){"use strict";n("63a6")},a419:function(e,t,n){e.exports=n.p+"img/Tagesspiegel-Logo.8aa99ca9.jpg"},a4ca:function(e,t,n){},a5d8:function(e,t,n){e.exports=n.p+"img/bss-logo.13124711.png"},b22f:function(e,t,n){"use strict";n("2a43")},c37b:function(e,t,n){},c89d:function(e,t,n){"use strict";n("3ed9")},c977:function(e,t,n){},cae9:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,r=n("f23d"),i=(n("202f"),n("2b0e")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],u=(n("fce8"),n("2877")),c={},l=Object(u["a"])(c,s,o,!1,null,null,null),d=l.exports,m=(n("4de4"),n("caad"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"max-width":"1020px",margin:"0 auto",padding:"1rem"}},[n("ChangePasswordForm",{attrs:{visible:e.showChangePasswordForm},on:{cancel:function(){e.showChangePasswordForm=!1},create:function(){e.showChangePasswordForm=!1}}}),e.institution?n("AddOrChangeUserForm",{attrs:{visible:e.showAddOrChangeUserForm,user:e.addOrChangeUser},on:{cancel:function(){e.showAddOrChangeUserForm=!1},create:function(){e.showAddOrChangeUserForm=!1}}}):e._e(),e.institution?n("ChangeInstitutionForm",{attrs:{visible:e.showChangeInstitutionForm,institution:e.institution},on:{cancel:function(){e.showChangeInstitutionForm=!1},create:function(){e.showChangeInstitutionForm=!1}}}):e._e(),n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{span:24,md:12}},[e.user?n("a-card",{attrs:{title:"Benutzer",extra:e.user.id,align:"left"}},[n("div",[n("table",[n("tr",[n("td",[e._v("Benutzername:")]),n("td",[e._v(e._s(e.user.username))])]),n("tr",[n("td",[e._v("Name:")]),n("td",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))])]),n("tr",[n("td",[e._v("Rollen:")]),n("td",e._l(e.user.authorities,(function(t){return n("div",{key:t.authority},[e._v(" "+e._s(e.roleMapping[t.authority])+" ")])})),0)])])])]):e._e()],1),n("a-col",{attrs:{span:24,md:12}},[e.institution?n("a-card",{attrs:{title:"Institution",extra:e.institution.id,align:"left"}},[n("table",[n("tr",[n("td",[e._v("Name:")]),n("td",[e._v(e._s(e.institution.name))])]),n("tr",[n("td",[e._v("Typ:")]),n("td",[e._v(e._s(e.typeMapping[e.institution.institutionType]))])]),n("tr",[n("td",[e._v("Adresse:")]),n("td",[e._v(" "+e._s(e.institution.street)+" "+e._s(e.institution.houseNumber)),n("br"),e._v(e._s(e.institution.zip)+" "+e._s(e.institution.city)+" ")])]),n("tr",[n("td",[e._v("E-Mail:")]),n("td",[e._v(e._s(e.institution.email))])]),n("tr",[n("td",[e._v("Telefonnummer:")]),n("td",[e._v(e._s(e.institution.phoneNumber))])]),n("tr",[n("td",[e._v("Kommentar:")]),n("td",[e._v(e._s(e.institution.comment))])])]),e.isAdmin?n("a-button",{attrs:{type:"primary",icon:"edit"},on:{click:function(t){e.showChangeInstitutionForm=!0}}},[e._v(" Bearbeiten ")]):e._e()],1):e._e()],1)],1),n("a-card",{staticStyle:{"margin-top":"8px"},attrs:{title:"Benutzer der Institution",align:"left"}},[n("div",{staticStyle:{display:"flex","justify-content":"flex-end","padding-bottom":"5px"}},[e.isAdmin?n("a-button",{attrs:{type:"primary",icon:"user-add"},on:{click:function(t){return e.addUser()}}},[e._v(" Hinzufügen ")]):e._e()],1),n("a-table",{attrs:{columns:e.tableColumns,dataSource:e.institutionUsers,rowKey:"email"},scopedSlots:e._u([{key:"authorities",fn:function(t){return n("div",{},[e._v(" "+e._s(e.roleMapping[t[1].authority])+" ")])}},{key:"operation",fn:function(t,a){return n("div",{},[e.isAdmin?n("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"edit"},on:{click:function(){return e.changeUser(a)}}}):e._e()],1)}}])})],1)],1)}),p=[],f=n("5530"),h=n("1da1"),v=n("bee2"),g=n("262e"),b=n("2caf"),y=n("d4ec"),x=(n("96cf"),n("5d41"),n("53ca")),S=n("15fd"),_=n("ade3");n("d3b7"),n("99af"),n("a15b"),n("b64b"),n("d81d");(function(e){e[e["Json"]=0]="Json"})(a||(a={}));var w=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.baseUrl,i=n.baseApiParams,s=n.securityWorker;Object(y["a"])(this,e),this.baseUrl="/v2/api-docs",this.securityData=null,this.securityWorker=function(){},this.baseApiParams={credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=function(e){t.securityData=e},this.bodyFormatters=Object(_["a"])({},a.Json,JSON.stringify),this.safeParseResponse=function(e){return e.json().then((function(e){return e})).catch((function(t){return e.text}))},this.request=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.secure,s=Object(S["a"])(r,["secure"]),o=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;return fetch("".concat(t.baseUrl).concat(e),Object(f["a"])(Object(f["a"])({},t.mergeRequestOptions(s,(c||i)&&t.securityWorker(t.securityData))),{},{method:n,body:o?t.bodyFormatters[u||a.Json](o):null})).then(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.safeParseResponse(n);case 2:if(a=e.sent,n.ok){e.next=5;break}throw a;case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},this.baseUrl=r||this.baseUrl,this.baseApiParams=i||this.baseApiParams,this.securityWorker=s||this.securityWorker}return Object(v["a"])(e,[{key:"addQueryParam",value:function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(Array.isArray(e[t])?e[t].join(","):e[t])}},{key:"addQueryParams",value:function(e){var t=this,n=e||{},a=Object.keys(n).filter((function(e){return"undefined"!==typeof n[e]}));return a.length?"?".concat(a.map((function(e){return"object"!==Object(x["a"])(n[e])||Array.isArray(n[e])?t.addQueryParam(n,e):t.addQueryParams(n[e]).substring(1)})).join("&")):""}},{key:"mergeRequestOptions",value:function(e,t){return Object(f["a"])(Object(f["a"])(Object(f["a"])(Object(f["a"])({},this.baseApiParams),e),t||{}),{},{headers:Object(f["a"])(Object(f["a"])(Object(f["a"])({},this.baseApiParams.headers||{}),e.headers||{}),t&&t.headers||{})})}}]),e}(),O=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(y["a"])(this,n),e=t.apply(this,arguments),e.actuator={linksUsingGet:function(t){return e.request("/actuator","GET",t,null,a.Json,!0)},handleUsingGet1:function(t,n){return e.request("/actuator/health","GET",n,t,a.Json,!0)},handleUsingGet:function(t,n){return e.request("/actuator/health/**","GET",n,t,a.Json,!0)},handleUsingGet2:function(t,n){return e.request("/actuator/info","GET",n,t,a.Json,!0)}},e.api={signInUserUsingPost:function(t,n){return e.request("/api/auth","POST",n,t,a.Json,!0)},getInstitutionUsingGet:function(t){return e.request("/api/auth/institution","GET",t,null,a.Json,!0)},registerInstitutionUsingPost:function(t,n){return e.request("/api/auth/register/institution","POST",n,t,a.Json,!0)},registerUserUsingPost:function(t,n){return e.request("/api/auth/register/user","POST",n,t,a.Json,!0)},currentUserUsingGet:function(t){return e.request("/api/auth/user","GET",t,null,a.Json,!0)},changePasswordUsingPost:function(t,n){return e.request("/api/auth/user/change-password","POST",n,t,a.Json,!0)},getCountriesUsingGet:function(t,n){return e.request("/api/countries".concat(e.addQueryParams(t)),"GET",n,null,a.Json,!0)},addScheduledEventUsingPost:function(t,n){return e.request("/api/doctor/create_appointment","POST",n,t,a.Json,!0)},getHealthInsuranceCompaniesUsingGet:function(t){return e.request("/api/enum-data/health-insurance-companies","GET",t,null,a.Json,!0)},createExposureContactUsingPost:function(t,n){return e.request("/api/exposure-contacts","POST",n,t,a.Json,!0)},updateExposureContactUsingPut:function(t,n){return e.request("/api/exposure-contacts","PUT",n,t,a.Json,!0)},bulkInsertUsingPost:function(t,n){return e.request("/api/exposure-contacts/bulk","POST",n,t,a.Json,!0)},getExposureSourceContactsForPatientsUsingPost:function(t,n){return e.request("/api/exposure-contacts/by-contact/","POST",n,t,a.Json,!0)},getExposureSourceContactsForPatientUsingGet:function(t,n){return e.request("/api/exposure-contacts/by-contact/".concat(t),"GET",n,null,a.Json,!0)},getExposureContactsForPatientUsingGet:function(t,n){return e.request("/api/exposure-contacts/by-source/".concat(t),"GET",n,null,a.Json,!0)},getExposureContactUsingGet:function(t,n){return e.request("/api/exposure-contacts/".concat(t),"GET",n,null,a.Json,!0)},removeExposureContactUsingDelete:function(t,n){return e.request("/api/exposure-contacts/".concat(t),"DELETE",n,null,a.Json,!0)},getPatientLogUsingGet:function(t,n){return e.request("/api/incidents/patient/".concat(t,"/log"),"GET",n,null,a.Json,!0)},getSelectedForQuarantineUsingGet:function(t){return e.request("/api/incidents/selected-for-quarantine","GET",t,null,a.Json,!0)},setTestUsingPost:function(t,n){return e.request("/api/incidents/test","POST",n,t,a.Json,!0)},getPatientsCurrentByTypeUsingPost:function(t,n){return e.request("/api/incidents/test/patient","POST",n,t,a.Json,!0)},setTestByTestAndLabIdUsingPost:function(t,n){return e.request("/api/incidents/test/test-id","POST",n,t,a.Json,!0)},createInstitutionUsingPost:function(t,n){return e.request("/api/institutions","POST",n,t,a.Json,!0)},updateInstitutionUsingPut:function(t,n){return e.request("/api/institutions","PUT",n,t,a.Json,!0)},getAllDoctorsUsingGet:function(t){return e.request("/api/institutions/doctors","GET",t,null,a.Json,!0)},getAllLaboratoriesUsingGet:function(t){return e.request("/api/institutions/laboratories","GET",t,null,a.Json,!0)},queryAllLaboratoriesUsingGet:function(t,n){return e.request("/api/institutions/laboratories/query".concat(e.addQueryParams(t)),"GET",n,null,a.Json,!0)},getAllPatientsUsingGet:function(t){return e.request("/api/patients","GET",t,null,a.Json,!0)},addPatientUsingPost:function(t,n){return e.request("/api/patients","POST",n,t,a.Json,!0)},updatePatientUsingPut:function(t,n){return e.request("/api/patients","PUT",n,t,a.Json,!0)},createOrderTestEventUsingPost:function(t,n){return e.request("/api/patients/event/order-test".concat(e.addQueryParams(t)),"POST",n,null,a.Json,!0)},sendToQuarantineUsingPost:function(t,n){return e.request("/api/patients/quarantine","POST",n,t,a.Json,!0)},requestQuarantineUsingPost:function(t,n,r){return e.request("/api/patients/quarantine/".concat(t),"POST",r,n,a.Json,!0)},queryPatientsUsingPost:function(t,n){return e.request("/api/patients/query","POST",n,t,a.Json,!0)},queryPatientsSimpleUsingPost:function(t,n){return e.request("/api/patients/query-simple","POST",n,t,a.Json,!0)},countQueryPatientsSimpleUsingGet:function(t,n){return e.request("/api/patients/query-simple/count".concat(e.addQueryParams(t)),"GET",n,null,a.Json,!0)},countQueryPatientsUsingPost:function(t,n){return e.request("/api/patients/query/count","POST",n,t,a.Json,!0)},getPatientForIdUsingGet:function(t,n){return e.request("/api/patients/".concat(t),"GET",n,null,a.Json,!0)},queryPermissionsUsingPost:function(t,n){return e.request("/api/permissions","POST",n,t,a.Json,!0)},getForZipUsingGet:function(t,n){return e.request("/api/stats".concat(e.addQueryParams(t)),"GET",n,null,a.Json,!0)},getInstitutionUsersUsingGet:function(t){return e.request("/api/users","GET",t,null,a.Json,!0)},updateInstitutionUserUsingPut:function(t,n){return e.request("/api/users".concat(e.addQueryParams(t)),"PUT",n,null,a.Json,!0)},deleteInstitutionUserUsingDelete:function(t,n){return e.request("/api/users/".concat(t),"DELETE",n,null,a.Json,!0)}},e.error={errorUsingGet:function(t){return e.request("/error","GET",t,null,a.Json,!0)},errorUsingHead:function(t){return e.request("/error","HEAD",t,null,a.Json,!0)},errorUsingPost:function(t){return e.request("/error","POST",t,null,a.Json,!0)},errorUsingPut:function(t){return e.request("/error","PUT",t,null,a.Json,!0)},errorUsingDelete:function(t){return e.request("/error","DELETE",t,null,a.Json,!0)},errorUsingOptions:function(t){return e.request("/error","OPTIONS",t,null,a.Json,!0)},errorUsingPatch:function(t){return e.request("/error","PATCH",t,null,a.Json,!0)}},e}return n}(w),k=window.location.origin;(location.host.includes("localhost")||location.host.includes("127.0.0.1"))&&(k="http://localhost:80");var I={credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},P={apiInstance:new O({baseUrl:k,baseApiParams:I})};function E(e){var t={get:function(e,t,n){return null!==P.apiInstance.api[t]?P.apiInstance.api[t]:Reflect.get(e,t,n)}};return new Proxy(e,t)}function T(e){P.apiInstance=new O({baseUrl:k,baseApiParams:Object(f["a"])(Object(f["a"])({},I),{},{headers:Object(f["a"])(Object(f["a"])({},I.headers),{},{Authorization:"Bearer "+e})})})}function C(){P.apiInstance=new O({baseUrl:k})}var N=E(P.apiInstance.api),A={showAllViews:!1};n("1276"),n("ac1f"),n("5319"),n("fb6a"),n("25f0"),n("159b");function D(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}var j=n("675f"),q=function e(){Object(y["a"])(this,e),this.jwtToken=void 0,this.jwtData=void 0,this.user=void 0,this.institution=void 0,this.institutionUsers=void 0},R=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(y["a"])(this,n),t.apply(this,arguments)}return Object(v["a"])(n,[{key:"isAuthenticated",value:function(){return!!this.state.jwtToken}},{key:"institution",value:function(){return this.state.institution}},{key:"roles",value:function(){var e;return(null===(e=this.state.jwtData)||void 0===e?void 0:e.roles)||[]}},{key:"routes",value:function(){var e=this;return Ci.filter((function(t){return A.showAllViews||e.getters.roles().some((function(e){var n,a;return null===(n=t.meta)||void 0===n||null===(a=n.navigationInfo)||void 0===a?void 0:a.authorities.includes(e)}))}))}},{key:"institutionUsers",value:function(){return this.state.institutionUsers||[]}}]),n}(j["b"]),U=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(y["a"])(this,n),t.apply(this,arguments)}return Object(v["a"])(n,[{key:"loginSuccess",value:function(e){this.state.jwtToken=e,this.state.jwtData=D(e),T(e)}},{key:"logoutSuccess",value:function(){this.state.jwtToken=void 0,this.state.jwtData=void 0,C()}},{key:"setAuthenticatedInstitution",value:function(e){this.state.institution=e}},{key:"setInstitutionUsers",value:function(e){this.state.institutionUsers=e}},{key:"setUser",value:function(e){this.state.user=e}}]),n}(j["d"]),F=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(y["a"])(this,n),t.apply(this,arguments)}return Object(v["a"])(n,[{key:"login",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.signInUserUsingPost({username:t.username,password:t.password});case 2:n=e.sent.jwtToken,n&&(this.commit("loginSuccess",n),this.dispatch("getAuthenticatedInstitution"),this.dispatch("getAuthenticatedUser"),window.localStorage.setItem("token",""+n),Ai.push({name:"app"}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.commit("logoutSuccess"),window.localStorage.clear(),Ai.push({name:"login"});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=window.localStorage.token,t&&(n=D(t),a=new Date,r=new Date(1e3*n.exp),r>a?(this.commit("loginSuccess",t),this.dispatch("getAuthenticatedInstitution"),this.dispatch("getAuthenticatedUser")):window.localStorage.clear());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthenticatedInstitution",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.getInstitutionUsingGet();case 2:t=e.sent,this.commit("setAuthenticatedInstitution",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInstitutionUsers",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.getInstitutionUsersUsingGet();case 2:t=e.sent,this.commit("setInstitutionUsers",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthenticatedUser",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.currentUserUsingGet();case 2:t=e.sent,this.commit("setUser",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateInstitution",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.updateInstitutionUsingPut(t);case 2:n=e.sent,this.commit("setAuthenticatedInstitution",n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerUserForInstitution",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.registerUserUsingPost(t);case 2:e.sent,this.dispatch("getInstitutionUsers");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteUserForInstitution",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.deleteInstitutionUserUsingDelete(t);case 2:e.sent,this.dispatch("getInstitutionUsers");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUserForInstitution",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.updateInstitutionUserUsingPut(t);case 2:this.dispatch("getInstitutionUsers");case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changePassword",value:function(e){return N.changePasswordUsingPost(e)}}]),n}(j["a"]),z=new j["c"]({state:q,getters:R,mutations:U,actions:F}),B=Object(j["e"])(z),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Passwort ändern",okText:"Passwort ändern"},on:{cancel:function(){e.$emit("cancel")},ok:e.handleChangePassword}},[n("a-form",{attrs:{form:e.changePasswordForm,layout:"vertical"}},[n("a-form-item",{attrs:{label:"Altes Passwort"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["oldPassword",{rules:[{required:!0}]}],expression:"['oldPassword', { rules: [{ required: true }] }]"}]})],1),n("a-form-item",{attrs:{label:"Neues Passwort"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPassword",{rules:[{required:!0}]}],expression:"['newPassword', { rules: [{ required: true }] }]"}],attrs:{type:"password"},on:{change:e.handlePasswordRetryChangeNew}})],1),n("a-form-item",{attrs:{label:"Neues Passwort wiederholen",help:e.passwordRetry.errorMsg,"validate-status":e.passwordRetry.validateStatus}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPasswordRetry",{rules:[{required:!0}]}],expression:"['newPasswordRetry', { rules: [{ required: true }] }]"}],attrs:{type:"password"},on:{change:e.handlePasswordRetryChangeNewRetry}})],1)],1)],1)},V=[],G=i["a"].extend({name:"Account",props:["visible"],data:function(){return{changePasswordForm:this.$form.createForm(this,{name:"change_password"}),passwordRetry:{}}},methods:Object(f["a"])(Object(f["a"])({},B.mapActions({changePassword:"changePassword"})),{},{handleChangePassword:function(){var e=this;this.changePasswordForm.validateFields((function(t,n){t?console.warn(t):e.changePassword(Object(f["a"])({},n)).then((function(){e.$notification.success({message:"Passwort erfolgreich geändert",description:""}),e.changePasswordForm.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Passwort konnte nicht geändert werden.",description:t.message})}))}))},handlePasswordRetryChangeNew:function(e){var t=this.changePasswordForm.getFieldValue("newPasswordRetry"),n=e.target.value;this.handlePasswordRetryChange(n,t)},handlePasswordRetryChangeNewRetry:function(e){var t=e.target.value,n=this.changePasswordForm.getFieldValue("newPassword");this.handlePasswordRetryChange(n,t)},handlePasswordRetryChange:function(e,t){this.passwordRetry=e===t?{validateStatus:"success",errorMsg:null}:{validateStatus:"error",errorMsg:"Passwörter stimmen nicht überein"}}})}),$=G,M=Object(u["a"])($,L,V,!1,null,"2fb04526",null),Y=M.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Institution ändern",okText:"Speichern",cancelText:"Abbrechen"},on:{cancel:function(){e.$emit("cancel")},ok:e.save}},[n("a-form",{attrs:{form:e.form,layout:"vertical"}},[n("a-form-item",{attrs:{label:"Name"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"Bitte Namen eingeben"}],initialValue:e.institution.name}],expression:"[\n          'name',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Namen eingeben',\n              },\n            ],\n            initialValue: institution.name,\n          },\n        ]"}]})],1),n("a-form-item",{attrs:{label:"E-Mail"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{initialValue:e.institution.email}],expression:"['email', { initialValue: institution.email }]"}]})],1),n("a-form-item",{attrs:{label:"Telefonnummer"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{initialValue:e.institution.phoneNumber}],expression:"[\n          'phoneNumber',\n          { initialValue: institution.phoneNumber },\n        ]"}]})],1),n("div",{staticStyle:{display:"flex"}},[n("a-form-item",{attrs:{label:"Straße"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["street",{rules:[{required:!0,message:"Bitte Straße eingeben"}],initialValue:e.institution.street}],expression:"[\n            'street',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Straße eingeben',\n                },\n              ],\n              initialValue: institution.street,\n            },\n          ]"}]})],1),n("a-form-item",{staticStyle:{flex:"0 0 125px","margin-left":"15px"},attrs:{label:"Hausnummer"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["houseNumber",{rules:[{required:!0,message:"Bitte Hausnummer eingeben"}],initialValue:e.institution.houseNumber}],expression:"[\n            'houseNumber',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Hausnummer eingeben',\n                },\n              ],\n              initialValue: institution.houseNumber,\n            },\n          ]"}]})],1)],1),n("div",{staticStyle:{display:"flex"}},[n("PlzInput",{staticStyle:{"margin-right":"15px"},attrs:{decorator:["zip",{rules:[{required:!0,message:"Bitte PLZ eingeben"}],initialValue:e.institution.zip}]},on:{plzChanged:e.setPLZ}}),n("a-form-item",{attrs:{label:"Stadt"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0,message:"Bitte Stadt eingeben"}],initialValue:e.institution.city}],expression:"[\n            'city',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Stadt eingeben',\n                },\n              ],\n              initialValue: institution.city,\n            },\n          ]"}]})],1)],1),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment",{initialValue:e.institution.comment}],expression:"['comment', { initialValue: institution.comment }]"}]})],1)],1)],1)},Q=[],K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{attrs:{label:"PLZ"}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:e.decorator,expression:"decorator"}],on:{search:e.handlePlzSearch,select:e.handlePlzSelection}},[n("template",{slot:"dataSource"},e._l(e.plzs,(function(t){return n("a-select-option",{key:t.fields.plz},[e._v(" "+e._s(t.fields.plz)+" "+e._s(t.fields.note)+" ")])})),1)],2)],1)},J=[],Z=(n("7db0"),function(e){return e.json().then((function(e){return e})).catch((function(t){return e.text}))});function W(e){return X.apply(this,arguments)}function X(){return X=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://public.opendatasoft.com/api/records/1.0/search/?dataset=postleitzahlen-deutschland&facet=plz&q="+t,{method:"GET"}).then(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:if(n=e.sent,t.ok){e.next=5;break}throw n;case 5:return e.abrupt("return",n.records);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}var ee=i["a"].extend({name:"PlzInput",props:["decorator","form"],data:function(){return{plzs:[],currentSearch:""}},methods:{handlePlzSearch:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.currentSearch=e,e&&!(e.length<2)){n.next=5;break}t.plzs=[],n.next=11;break;case 5:return n.next=7,W(e);case 7:if(a=n.sent,t.currentSearch===e){n.next=10;break}return n.abrupt("return");case 10:1===a.length?(t.setPLZ(a[0]),t.plzs=[]):t.plzs=a;case 11:case"end":return n.stop()}}),n)})))()},handlePlzSelection:function(e){var t=this.plzs.find((function(t){return t.fields.plz===e}));t&&this.setPLZ(t)},setPLZ:function(e){this.$emit("plzChanged",e),e.fields.note=""}}}),te=ee,ne=Object(u["a"])(te,K,J,!1,null,"3f331498",null),ae=ne.exports,re=i["a"].extend({name:"Account",props:["visible","institution"],components:{PlzInput:ae},data:function(){return{form:this.$form.createForm(this,{name:"institution"})}},methods:Object(f["a"])(Object(f["a"])({},B.mapActions({updateInstitution:"updateInstitution"})),{},{setPLZ:function(e){this.form.setFieldsValue({zip:e.fields.plz,city:e.fields.note})},save:function(){var e=this;this.form.validateFields((function(t,n){t?console.warn(t):e.updateInstitution(Object(f["a"])(Object(f["a"])({},n),{},{institutionType:e.institution.institutionType,id:e.institution.id})).then((function(){e.$notification.success({message:"Institution erfolgreich geändert",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Institution konnte nicht geändert werden.",description:t.message})}))}))}})}),ie=re,se=Object(u["a"])(ie,H,Q,!1,null,"2810a8b9",null),oe=se.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Nutzer "+(e.isNewUser?"hinzufügen":"bearbeiten"),okText:e.isNewUser?"Anlegen":"Speichern",cancelText:"Abbrechen"},on:{cancel:function(){e.$emit("cancel")},ok:e.save}},[n("a-form",{attrs:{form:e.form,layout:"vertical"}},[n("a-form-item",{attrs:{label:"Benutzername"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"Bitte Benutzernamen eingeben"}],initialValue:e.user.username}],expression:"[\n          'username',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Benutzernamen eingeben',\n              },\n            ],\n            initialValue: user.username,\n          },\n        ]"}]})],1),n("a-form-item",{attrs:{label:"Vorname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["firstName",{rules:[{required:!0,message:"Bitte Vornamen eingeben"}],initialValue:e.user.firstName}],expression:"[\n          'firstName',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Vornamen eingeben',\n              },\n            ],\n            initialValue: user.firstName,\n          },\n        ]"}]})],1),n("a-form-item",{attrs:{label:"Nachname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lastName",{rules:[{required:!0,message:"Bitte Nachnamen eingeben"}],initialValue:e.user.lastName}],expression:"[\n          'lastName',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Nachnamen eingeben',\n              },\n            ],\n            initialValue: user.lastName,\n          },\n        ]"}]})],1),e.isNewUser?n("a-form-item",{attrs:{label:"Passwort"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Bitte Passwort eingeben"}],initialValue:""}],expression:"[\n          'password',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Passwort eingeben',\n              },\n            ],\n            initialValue: '',\n          },\n        ]"}],attrs:{type:"password"}})],1):e._e(),n("a-form-item",{attrs:{label:"Rolle"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["userRole",{rules:[{required:!0,message:"Bitte Benutzerrolle eingeben"}],initialValue:e.user.userRole}],expression:"[\n          'userRole',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte Benutzerrolle eingeben',\n              },\n            ],\n            initialValue: user.userRole,\n          },\n        ]"}]},[n("a-select-option",{attrs:{value:"USER_ROLE_ADMIN"}},[e._v("Admin")]),n("a-select-option",{attrs:{value:"USER_ROLE_REGULAR"}},[e._v("Regular")])],1)],1)],1)],1)},ce=[],le=i["a"].extend({name:"Account",props:["visible","user"],components:{},data:function(){return{form:this.$form.createForm(this,{name:"user"}),isNewUser:!1}},watch:{user:function(){this.isNewUser=!this.user.id}},methods:Object(f["a"])(Object(f["a"])({},B.mapActions({registerUserForInstitution:"registerUserForInstitution",updateUserForInstitution:"updateUserForInstitution"})),{},{save:function(){var e=this;this.form.validateFields((function(t,n){t?console.warn(t):e.isNewUser?e.registerUserForInstitution(Object(f["a"])({},n)).then((function(){e.$notification.success({message:"Benutzer erfolgreich angelegt",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Benutzer konnte nicht angelegt werden.",description:t.message})})):e.updateUserForInstitution(Object(f["a"])({id:e.user.id},n)).then((function(){e.$notification.success({message:"Benutzer erfolgreich aktualisiert",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Benutzer konnte nicht aktualisiert werden.",description:t.message})}))}))}})}),de=le,me=Object(u["a"])(de,ue,ce,!1,null,"291ee376",null),pe=me.exports,fe=[{title:"Vorname",key:"firstName",dataIndex:"firstName"},{title:"Nachname",key:"lastName",dataIndex:"lastName"},{title:"Benutzername",key:"username",dataIndex:"username"},{title:"Rolle",key:"authorities",dataIndex:"authorities",scopedSlots:{customRender:"authorities"}},{title:"Aktionen",key:"id",dataIndex:"id",scopedSlots:{customRender:"operation"}}],he={USER_ROLE_ADMIN:"Admin",USER_ROLE_REGULAR:"Normal",ROLE_LABORATORY:"Labor",ROLE_TEST_SITE:"Teststation",ROLE_CLINIC:"Klinik",ROLE_DOCTORS_OFFICE:"Arzt",ROLE_GOVERNMENT_AGENCY:"Gesundheitsbehörde",ROLE_DEPARTMENT_OF_HEALTH:"Gesundheitsamt"},ve={LABORATORY:"Labor",TEST_SITE:"Teststation",CLINIC:"Klinik",DOCTORS_OFFICE:"Arzt",GOVERNMENT_AGENCY:"Gesundheitsbehörde",DEPARTMENT_OF_HEALTH:"Gesundheitsamt"},ge=i["a"].extend({name:"Account",created:function(){this.setIsAdmin(),this.getInstitutionUsers()},data:function(){return{tableColumns:fe,roleMapping:he,typeMapping:ve,registerUserForm:this.$form.createForm(this),showChangePasswordForm:!1,showChangeInstitutionForm:!1,showAddOrChangeUserForm:!1,addOrChangeUser:{},isAdmin:!1}},components:{ChangePasswordForm:Y,ChangeInstitutionForm:oe,AddOrChangeUserForm:pe},computed:Object(f["a"])(Object(f["a"])({},B.mapState({user:"user",institution:"institution",institutionUsers:"institutionUsers"})),{},{username:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""}}),watch:{user:function(){this.setIsAdmin()}},methods:Object(f["a"])(Object(f["a"])({},B.mapActions({registerUser:"registerUserForInstitution",getInstitutionUsers:"getInstitutionUsers",deleteUserForInstitution:"deleteUserForInstitution"})),{},{setIsAdmin:function(){this.user&&this.user.authorities&&(this.isAdmin=this.user.authorities.some((function(e){return"USER_ROLE_ADMIN"===e.authority})))},changeUser:function(e){this.addOrChangeUser=e,this.showAddOrChangeUserForm=!0},deleteUser:function(e){var t=this;e.id&&this.deleteUserForInstitution(e.id).then((function(){t.$notification.success({message:"Benutzer erfolgreich gelöscht",description:""})})).catch((function(e){t.$notification.error({message:"Benutzer konnte nicht gelöscht werden",description:e.message})}))},addUser:function(){this.addOrChangeUser={},this.showAddOrChangeUserForm=!0}})}),be=ge,ye=(n("83ee"),Object(u["a"])(be,m,p,!1,null,"629c4811",null)),xe=ye.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-layout",{staticClass:"app-container"},[n("a-layout",[n("Header",{on:{"menu-toggle":function(t){e.sideNavCollapsed=!e.sideNavCollapsed}}}),n("a-layout",[n("Navigation",{attrs:{sideNavCollapsed:e.sideNavCollapsed},on:{"route-clicked":e.handleRouteClicked}}),n("a-layout-content",{staticStyle:{"box-sizing":"border-box",width:"100%",display:"flex","justify-content":"space-between","flex-direction":"column"}},[n("div",{style:{padding:"20px",minHeight:"calc(100vh - 64px)",width:"100%"}},[n("router-view")],1)])],1)],1)],1),e.isLoading?n("a-spin",{staticStyle:{position:"fixed",bottom:"3rem",margin:"0 auto"},attrs:{size:"large"}}):e._e()],1)},_e=[],we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-header",{staticStyle:{height:"auto",display:"flex","justify-content":"space-between","align-items":"center",padding:"0"}},[n("div",{staticStyle:{flex:"0 0 auto"}},[n("a-icon",{staticStyle:{color:"white",padding:"1.5rem"},attrs:{type:"menu"},on:{click:function(t){return e.$emit("menu-toggle")}}}),n("span",{staticClass:"imis-title",staticStyle:{color:"white"}},[e._v("IMIS")])],1),n("span",{staticStyle:{flex:"1 1 auto"}}),n("a-popover",{staticClass:"header-user-popover",attrs:{title:e.username,trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("a",{attrs:{slot:"content"},slot:"content"},[n("a-menu",{staticStyle:{border:"none"},attrs:{mode:"inline",selectedKeys:[]}},[n("a-menu-item",{key:"1",staticClass:"menu-item"},[n("router-link",{attrs:{to:{name:"account"}},nativeOn:{click:function(t){return e.routeClicked(t)}}},[n("a-icon",{attrs:{type:"user"}}),n("span",{staticClass:"nav-text"},[e._v("Benutzerkonto")])],1)],1),n("a-menu-item",{staticClass:"menu-item",on:{click:e.onLogout}},[n("a-icon",{attrs:{type:"logout"}}),n("span",{staticClass:"nav-text"},[e._v(" Abmelden ")])],1)],1)],1),n("div",{staticStyle:{flex:"0 0 auto",cursor:"pointer"}},[n("a-icon",{staticStyle:{color:"#aaa",padding:"1.5rem"},attrs:{type:"user"}}),n("span",{staticClass:"username",staticStyle:{"margin-right":"15px",color:"rgba(255, 255, 255, 0.87)"}},[e._v(e._s(e.username))]),n("a-icon",{staticStyle:{color:"#aaa",padding:"1.5rem 1.5rem 1.5rem 0"},attrs:{type:"caret-down"}})],1)])],1)},Oe=[],ke=i["a"].extend({name:"Header",computed:Object(f["a"])(Object(f["a"])({},B.mapState({user:"user"})),{},{username:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""}}),data:function(){return{form:this.$form.createForm(this),visible:!1}},methods:Object(f["a"])(Object(f["a"])({},B.mapActions({logout:"logout"})),{},{onLogout:function(){this.logout()},routeClicked:function(){this.visible=!1,this.$emit("route-clicked")}})}),Ie=ke,Pe=(n("f409"),Object(u["a"])(Ie,we,Oe,!1,null,"2466a19c",null)),Ee=Pe.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-sider",{attrs:{collapsed:e.sideNavCollapsed,collapsedWidth:0,trigger:null,width:"230",breakpoint:"md"}},[n("a-menu",{staticStyle:{"text-align":"left"},attrs:{mode:"inline",theme:"dark",defaultSelectedKeys:[e.defaultPath]}},e._l(e.routes(),(function(t){return n("a-menu-item",{key:t.path},[n("router-link",{attrs:{to:{name:t.name}},nativeOn:{click:function(t){return e.$emit("route-clicked")}}},[n("a-icon",{attrs:{type:t.meta.navigationInfo.icon}}),n("span",{staticClass:"nav-text"},[e._v(e._s(t.meta.navigationInfo.title))])],1)],1)})),1)],1)},Ce=[],Ne=i["a"].extend({name:"Navigation",computed:Object(f["a"])({},B.mapGetters({roles:"roles",routes:"routes"})),data:function(){return{defaultPath:location.pathname.substring(5)}},props:{sideNavCollapsed:{type:Boolean}}}),Ae=Ne,De=Object(u["a"])(Ae,Te,Ce,!1,null,"6e74aeb1",null),je=De.exports,qe=700,Re=i["a"].extend({name:"AppRoot",components:{Header:Ee,Navigation:je},data:function(){return{isLoading:!1,sideNavCollapsed:window.innerWidth<qe}},methods:{handleRouteClicked:function(){window.innerWidth<qe&&(this.sideNavCollapsed=!0)}}}),Ue=Re,Fe=(n("641b"),Object(u["a"])(Ue,Se,_e,!1,null,"05750420",null)),ze=Fe.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-container"},[e._m(0),n("div",{staticClass:"header"},[n("div",{staticClass:"text"},[e._v("Angemeldet als:")]),n("a-icon",{staticClass:"icon",attrs:{type:"user"}}),n("div",{staticClass:"text"},[e._v(e._s(e.username))]),n("a-icon",{staticClass:"icon",attrs:{type:"bank"}}),e.institution?n("div",{staticClass:"text"},[e._v(e._s(e.institution.name))]):e._e()],1)])},Le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"greeting-container"},[a("h1",[e._v("Willkommen in")]),a("img",{attrs:{src:n("cf05")}}),a("h2",[e._v("Infektionsmelde- und Informationsystem")])])}],Ve=i["a"].extend({name:"Dashboard",computed:Object(f["a"])(Object(f["a"])({},B.mapState({user:"user",institution:"institution"})),{},{username:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.username)||""}}),data:function(){return{}},methods:{}}),Ge=Ve,$e=(n("6ced"),Object(u["a"])(Ge,Be,Le,!1,null,"43dd78cc",null)),Me=$e.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"landing-header"},[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{"aspect-ratio":"1.7",src:n("cf05")}}),a("h1",{staticClass:"header-text",staticStyle:{margin:"0 0 0 15px"}},[e._v(" Schnell. Einfach. Zuverlässig. ")]),a("span",{staticStyle:{flex:"1 1 auto"}}),a("div",{staticClass:"header-buttons"},[a("a-button",{attrs:{block:!0,href:"mailto:imis-team@gmx.de",icon:"mail",shape:"round",type:"primary"}},[a("span",[e._v("Kontakt")])]),a("a-button",{attrs:{block:!0,href:"https://twitter.com/IMIS_team",icon:"twitter",shape:"round",type:"primary"}},[a("span",[e._v("Twitter")])]),a("a-button",{attrs:{block:!0,href:"https://www.startnext.com/imis-infektionsmanagement",icon:"euro",shape:"round",type:"primary"}},[a("span",[e._v("Unterstützen")])])],1)]),a("div",{staticStyle:{height:"100px"}}),a("div",{staticClass:"first-section",staticStyle:{position:"relative"}},[a("div",{staticClass:"first-section",staticStyle:{position:"relative"}},[a("div",{staticStyle:{"max-width":"100%"},attrs:{width:"560"}}),a("div",{staticClass:"first-section-text"},[e._m(0),a("div",{staticStyle:{"text-align":"left","font-size":"16px"}},[e._v(" "+e._s(e.paragraph1)+" ")]),a("br"),a("div",{staticStyle:{"text-align":"left"}},[e._v(" "+e._s(e.paragraph2)+" ")]),a("br"),a("div",{staticStyle:{"text-align":"left"}},[e._v(" "+e._s(e.paragraph3)+" ")])])])]),e._m(1),e._m(2),a("div",{staticClass:"solution-enabler-section"},[a("h1",[e._v("Gemeinsam gegen COVID-19")]),e._m(3),e._m(4),a("div",{staticClass:"solution-enabler-our-team"},[e._m(5),a("a-icon",{staticStyle:{"margin-bottom":"25px"},style:{fontSize:"128px",color:"#2c3e50"},attrs:{type:"team"}})],1)]),e._m(6),a("div",{staticClass:"third-section"},[e._m(7),a("div",[a("span",[e._v("Kontakt:")]),a("a-divider",{staticStyle:{margin:"5px 0"}}),a("span",[e._v("Andrey Eganov")]),a("span",[e._v("imis-team@gmx.de")]),a("router-link",{attrs:{to:"impressum"}},[e._v("Impressum")])],1)])])},He=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex"}},[n("h2",{staticStyle:{color:"white"}},[e._v(" Das Infektionsmelde- und Informationssystem ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"link-section"},[a("img",{staticClass:"supporter-logo",attrs:{src:n("a5d8")}}),a("img",{staticClass:"supporter-logo",attrs:{src:n("a07b")}}),a("img",{staticClass:"supporter-logo",attrs:{src:n("484d")}}),a("img",{staticClass:"supporter-logo",attrs:{src:n("fc95")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solution-enabler-section"},[n("div",{staticStyle:{"max-width":"880px","max-height":"495px",width:"80vw",height:"50.58vw",margin:"0 auto"}},[n("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"https://www.youtube.com/embed/oi6UI7clU5g",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),n("h4",{staticStyle:{"max-width":"880px","horiz-align":"left"}},[e._v("Vorstellung einer für SORMAS entwickelten Funktion zur automatisierten Erstellung von Quarantäne-Bescheiden. "),n("br"),e._v(" Dank der modularen Bauweise kann jedes Gesundheitsamt selbst bestimmen, welche Daten Teil des Bescheids werden und welche nicht. Die Funktion wird derzeit in diverse Sprachen übersetzt und wird mit dem nächsten SORMAS-Update in über 50 Gesundheitsämtern in Deutschland sowie international verfügbar sein. ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",{staticStyle:{"max-width":"800px","text-align":"center"}},[e._v(" IMIS ist aus dem "),n("a",{attrs:{href:"https://wirvsvirushackathon.org/"}},[e._v("#WirVsVirus")]),e._v("-Hackathon hervorgegangen und wird seit dem von einem Team aus knapp einem Dutzend Leuten aktiv weiterentwickelt. ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"solution-enabler-program"},[a("img",{attrs:{src:n("a07b")}}),a("div",[a("h2",[e._v(" Als eines von 130 aus über 1500 Projekten ist IMIS in den "),a("a",{attrs:{href:"https://wirvsvirushackathon.org/weiterfuehrung-2/"}},[e._v("Solution Enabler")]),e._v(" aufgenommen worden. ")]),a("h3",[e._v(" Dadurch erhalten wir Zugriff auf Coaching- und Unterstützungsangebote sowie Ressourcen und Expertise. ")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Eine anspruchsvolle Aufgabe.")]),n("h3",[e._v(" Und deshalb sind wir ein vielfältiges Team aus Organisatoren und Projektkoordinatoren, Frontend- und Backend-Entwicklern, UI-Designern, Datenbankspezialisten und vielen mehr. ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"link-section"},[a("a",{attrs:{title:"Tagesspiegel",href:"https://www.tagesspiegel.de/wirtschaft/die-regierung-lobt-das-hackathon-experiment-sehnsucht-nach-ideen/26236622.html"}},[a("img",{staticClass:"pressreference",attrs:{src:n("a419")}})]),a("a",{attrs:{title:"Tagesspiegel Background",href:"https://background.tagesspiegel.de/gesundheit/zivile-uebernahme"}},[a("img",{staticClass:"pressreference",attrs:{src:n("6af2")}})]),a("a",{attrs:{title:"EHEALTHCOM",href:"https://e-health-com.de/details-news/vom-hackathon-in-die-gesundheitsaemter/"}},[a("img",{staticClass:"pressreference",attrs:{src:n("fad3")}})]),a("a",{attrs:{title:"Sueddeutsche Zeitung",href:"https://www.sueddeutsche.de/gesundheit/gesundheit-saarbruecken-studenten-beteiligen-sich-an-neuem-infektions-meldesystem-dpa.urn-newsml-dpa-com-20090101-200401-99-552503"}},[a("img",{staticClass:"pressreference",attrs:{src:n("ff03")}})]),a("a",{attrs:{title:"Gesundheit_Digital",href:"https://corona-digital.de/melde-tool-fuer-gesundheitsaemter/"}},[a("img",{staticClass:"pressreference",attrs:{src:n("ece8")}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticStyle:{"vertical-align":"middle",height:"100px"},attrs:{"aspect-ratio":"1.7",src:n("cf05")}})])}],Qe=i["a"].extend({name:"LandingPage",data:function(){return{paragraph1:"Wir wollen die Corona-Pandemie in den Griff bekommen und Leben retten. Unser Ansatz? Gesundheitsämter mit einer maßgeschneiderten digitalen Lösung ausstatten und durch schnelle Prozesse die Ausbreitung des Virus stoppen! ",paragraph2:"Gesundheitsämter sind der Dreh- und Angelpunkt der Corona-Bekämpfung. Doch viele Arbeitsschritte gehen dort noch händisch und daher schleppend langsam vonstatten. Papierberge, Fax-Stapel, Zeitdruck und Frustration stehen schnellen Maßnahmen im Weg. Unser Ziel ist es, Arbeitsabläufe mit Bezug zum Infektionsschutz in Gesundheitsämtern zu digitalisieren. Dazu kooperieren wir mit dem Helmholtz-Zentrum für Infektionsforschung, indem wir aktiv Beträge zum Gesundheitsmanagement-System SORMAS Leisten. ",paragraph3:"Als Open-Source-Projekt ist unser Ziel, in Kooperation mit anderen Projekten zur Schaffung einheitlicher Standards und der Entwicklung von hochwertigen Lösungen zur Pandemie-Bekämpfung in Deutschland und international beizutragen."}}}),Ke=Qe,Je=(n("3bb7"),Object(u["a"])(Ke,Ye,He,!1,null,"7bf0ebf8",null)),Ze=Je.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"landing-header"},[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{"aspect-ratio":"1.7",src:n("cf05")}}),e._m(0),a("span",{staticStyle:{flex:"1 1 auto"}}),a("div",{staticClass:"header-buttons"},[a("a-button",{attrs:{block:!0,href:"mailto:imis-team@gmx.de",icon:"mail",shape:"round",type:"primary"}},[a("span",[e._v("Kontakt")])]),a("a-button",{attrs:{block:!0,href:"https://twitter.com/IMIS_team",icon:"twitter",shape:"round",type:"primary"}},[a("span",[e._v("Twitter")])]),a("a-button",{attrs:{block:!0,href:"https://www.startnext.com/imis-infektionsmanagement",icon:"euro",shape:"round",type:"primary"}},[a("span",[e._v("Unterstützen")])])],1)]),a("div",{staticStyle:{height:"100px"}}),a("div",{staticClass:"first-section",staticStyle:{position:"relative"}},[a("div",{staticStyle:{"max-width":"100%"},attrs:{width:"560"}}),a("div",[a("div",[a("span",[e._v("IMIS GbR")]),a("a-divider",{staticStyle:{margin:"5px 0"}}),a("span",[e._v("Vertreten duch: Achim Löbke")]),a("br"),a("span",[e._v("Tüleck 1, 48336 Sassenberg")]),a("br"),a("span",[e._v("0681 / 500 66 72 0")]),a("br"),a("span",[e._v("imis-team@gmx.de")]),a("br")],1),a("br"),a("br"),a("div",{staticStyle:{"text-align":"left","font-size":"16px"}},[e._v(" Die Nutzung unserer Webseite ist in der Regel ohne Angabe personenbezogener Daten möglich. Soweit auf unseren Seiten personenbezogene Daten (beispielsweise Name, Anschrift oder eMail-Adressen) erhoben werden, erfolgt dies, soweit möglich, stets auf freiwilliger Basis. Diese Daten werden ohne Ihre ausdrückliche Zustimmung nicht an Dritte weitergegeben. Wir weisen darauf hin, dass die Datenübertragung im Internet (z.B. bei der Kommunikation per E-Mail) Sicherheitslücken aufweisen kann. Ein lückenloser Schutz der Daten vor dem Zugriff durch Dritte ist nicht möglich. Der Nutzung von im Rahmen der Impressumspflicht veröffentlichten Kontaktdaten durch Dritte zur Übersendung von nicht ausdrücklich angeforderter Werbung und Informationsmaterialien wird hiermit ausdrücklich widersprochen. Die Betreiber der Seiten behalten sich ausdrücklich rechtliche Schritte im Falle der unverlangten Zusendung von Werbeinformationen, etwa durch Spam-Mails, vor. ")]),a("br"),a("div",{staticStyle:{"text-align":"left","font-size":"16px"}},[e._v(" Unser Angebot enthält Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb können wir für diese fremden Inhalte auch keine Gewähr übernehmen. Für die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich. Die verlinkten Seiten wurden zum Zeitpunkt der Verlinkung auf mögliche Rechtsverstöße überprüft. Rechtswidrige Inhalte waren zum Zeitpunkt der Verlinkung nicht erkennbar. Eine permanente inhaltliche Kontrolle der verlinkten Seiten ist jedoch ohne konkrete Anhaltspunkte einer Rechtsverletzung nicht zumutbar. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Links umgehend entfernen. ")])]),a("br"),a("br")])])},Xe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"/"}},[n("h1",{staticClass:"header-text",staticStyle:{margin:"0 0 0 15px"}},[e._v(" Schnell. Einfach. Zuverlässig. ")])])}],et=i["a"].extend({name:"LandingPage",data:function(){return{paragraph1:"Wir wollen die Corona-Pandemie in den Griff bekommen und Leben retten. Unser Ansatz? Gesundheitsämter mit einer maßgeschneiderten digitalen Lösung ausstatten und durch schnelle Prozesse die Ausbreitung des Virus stoppen! ",paragraph2:"Gesundheitsämter sind der Dreh- und Angelpunkt der Corona-Bekämpfung. Doch viele Arbeitsschritte gehen dort noch händisch und daher schleppend langsam vonstatten. Papierberge, Fax-Stapel, Zeitdruck und Frustration stehen schnellen Maßnahmen im Weg. Unser Ziel ist es, Arbeitsabläufe mit Bezug zum Infektionsschutz in Gesundheitsämtern zu digitalisieren. Dazu kooperieren wir mit dem Helmholtz-Zentrum für Infektionsforschung, indem wir aktiv Beträge zum Gesundheitsmanagement-System SORMAS Leisten. ",paragraph3:"Als Open-Source-Projekt ist unser Ziel, in Kooperation mit anderen Projekten zur Schaffung einheitlicher Standards und der Entwicklung von hochwertigen Lösungen zur Pandemie-Bekämpfung in Deutschland und international beizutragen."}}}),tt=et,nt=(n("0c97"),Object(u["a"])(tt,We,Xe,!1,null,"cbae7810",null)),at=nt.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{width:"500px",margin:"4rem auto","min-height":"300px"},attrs:{align:"center"}},[a("a-form",{attrs:{form:e.form,"label-col":{span:6},"wrapper-col":{span:18}}},[a("div",{staticClass:"login-header"},[a("img",{attrs:{height:"100",src:n("cf05")}}),a("h3",{staticStyle:{"margin-top":"15px"}},[e._v("Login")])]),a("a-form-item",{attrs:{label:"Kennung"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"Bitte geben Sie Ihre Kennung ein."}],initialValue:""}],expression:"[\n          'username',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie Ihre Kennung ein.',\n              },\n            ],\n            initialValue: '',\n          },\n        ]"}],attrs:{placeholder:"z.B 1337-4237-9438"}},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",{attrs:{label:"Passwort"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Bitte geben Sie Ihr Passwort ein."}],initialValue:""}],expression:"[\n          'password',\n          {\n            rules: [\n              {\n                required: true,\n                message: 'Bitte geben Sie Ihr Passwort ein.',\n              },\n            ],\n            initialValue: '',\n          },\n        ]"}],attrs:{placeholder:"**********",type:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),a("a-divider"),a("a-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{"wrapper-col":{span:24,offset:0}}},[a("a-button",{attrs:{"html-type":"submit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" Einloggen ")])],1)],1),a("div",[a("br"),a("p",[e._v("Demo-Zugänge:")]),a("a-button",{attrs:{"html-type":"submit",icon:"unlock"},on:{click:function(t){return t.preventDefault(),e.handleLogin("test_testing_site","asdf")}}},[e._v(" Als Labor einloggen ")]),a("br"),a("p",[e._v(" Kennung "),a("strong",[e._v("test_testing_site")]),e._v(" mit Passwort "),a("strong",[e._v("asdf")])]),a("a-button",{attrs:{"html-type":"submit",icon:"unlock"},on:{click:function(t){return t.preventDefault(),e.handleLogin("test_department_of_health","asdf")}}},[e._v(" Als Gesundheitsamt einloggen ")]),a("p",[e._v(" Kennung "),a("strong",[e._v("test_department_of_health")]),e._v(" mit Passwort "),a("strong",[e._v("asdf")])])],1)],1)},it=[],st=i["a"].extend({name:"Login",data:function(){return{form:this.$form.createForm(this)}},methods:Object(f["a"])(Object(f["a"])({},B.mapActions({login:"login"})),{},{handleLogin:function(e,t){var n=this;e&&t&&this.form.setFieldsValue({username:e,password:t}),this.form.validateFields((function(e,t){e||n.login({username:t.username,password:t.password})}))}})}),ot=st,ut=(n("d6db"),Object(u["a"])(ot,rt,it,!1,null,null,null)),ct=ut.exports,lt=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",[t.showChangePatientStammdatenForm?a("ChangePatientStammdatenForm",{attrs:{visible:t.showChangePatientStammdatenForm,patient:t.patient},on:{cancel:function(){t.showChangePatientStammdatenForm=!1},create:function(){t.showChangePatientStammdatenForm=!1,e.loadData()}}}):t._e(),t.showChangePatientFalldatenForm?a("ChangePatientFalldatenForm",{attrs:{visible:t.showChangePatientFalldatenForm,patient:t.patient},on:{cancel:function(){t.showChangePatientFalldatenForm=!1},create:function(){t.showChangePatientFalldatenForm=!1,e.loadData()}}}):t._e(),t.patient?a("div",{staticStyle:{"max-width":"1020px",margin:"0 auto",padding:"0 1rem"}},[a("a-page-header",{staticStyle:{padding:"1rem 0"},attrs:{title:t.patient.lastName+", "+t.patient.firstName,"sub-title":t.patient.id},on:{back:function(){return t.$router.go(-1)}}},[a("template",{slot:"tags"},[t.patientStatus?a("a-tag",[t._v(" "+t._s(t.patientStatus.label)+" ")]):t._e()],1),a("template",{slot:"extra"},[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleActionClick},slot:"overlay"},[a("a-menu-item",{key:"ARRANGE_TEST"},[a("a-icon",{attrs:{type:"user"}}),t._v(" Neuen Test anordnen ")],1),t.permissions.sendToQuarantine?a("a-menu-item",{key:"SEND_TO_QUARANTINE"},[a("a-icon",{attrs:{type:"user"}}),t._v(" Quarantäne vormerken ")],1):t._e()],1),a("a-button",{staticStyle:{"margin-left":"8px"}},[t._v(" Aktionen "),a("a-icon",{attrs:{type:"down"}})],1)],1)],1)],2),t.patient?a("a-tabs",{staticStyle:{"text-align":"left"},attrs:{defaultActiveKey:"master-data"}},[a("a-tab-pane",{key:"master-data",attrs:{tab:"Stammdaten"}},[a("div",{staticClass:"tool-row"},[a("a-button",{attrs:{icon:"edit"},on:{click:t.editPatientStammdaten}},[t._v(" Stammdaten ändern ")])],1),a("a-row",{attrs:{gutter:8,type:"flex"}},[a("a-col",{attrs:{md:12,span:24}},[a("a-card",{attrs:{extra:this.patient.id,align:"left",title:"Allgemein"}},[a("table",[a("tr",[a("td",[t._v("Name:")]),a("td",[t._v(t._s(t.patient.lastName)+", "+t._s(t.patient.firstName))])]),a("tr",[a("td",[t._v("Staatsangehörigkeit:")]),a("td",[t._v(t._s(t.patient.nationality))])]),a("tr",[a("td",[t._v("Geschlecht:")]),a("td",[t._v(t._s(t.gender))])]),a("tr",[a("td",[t._v("Geburtsdatum:")]),a("td",[t._v(t._s(t.dateOfBirth))])]),a("tr",[a("td",[t._v("Todesdatum:")]),a("td",[t._v(t._s(t.dateOfDeath))])])])])],1),a("a-col",{attrs:{md:12,span:24}},[a("a-card",{staticStyle:{height:"100%"},attrs:{align:"left",title:"Adresse"}},[a("table",[t.patient.stayCity?a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("Wohnort:")])]):t._e(),a("tr",[a("td",[t._v("Straße/Hausnr.:")]),a("td",[t._v(t._s(t.patient.street)+" "+t._s(t.patient.houseNumber))])]),a("tr",[a("td",[t._v("PLZ/Ort:")]),a("td",[t._v(t._s(t.patient.zip)+" "+t._s(t.patient.city))])]),a("tr",[a("td",[t._v("Land:")]),a("td",[t._v(t._s(t.country))])])]),t.patient.stayCity?a("table",{staticStyle:{"margin-top":"10px"}},[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("Aufenthaltsort:")])]),a("tr",[a("td",[t._v("Straße/Hausnr.:")]),a("td",[t._v(" "+t._s(t.patient.stayStreet)+" "+t._s(t.patient.stayHouseNumber)+" ")])]),a("tr",[a("td",[t._v("PLZ/Ort:")]),a("td",[t._v(t._s(t.patient.stayZip)+" "+t._s(t.patient.stayCity))])]),a("tr",[a("td",[t._v("Land:")]),a("td",[t._v(t._s(t.stayCountry))])])]):t._e()])],1)],1),a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Kontakt"}},[a("table",[a("tr",[a("td",[t._v("Telefon:")]),a("td",[t._v(t._s(t.patient.phoneNumber))])]),a("tr",[a("td",[t._v("Email:")]),a("td",[a("a",{attrs:{href:""}},[t._v(t._s(t.patient.email))])])])])])],1),a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Arbeit"}},[a("table",[a("tr",[a("td",[t._v("Beruf:")]),a("td",[t._v(t._s(t.patient.occupation||"Keine Angabe"))])]),a("tr",[a("td",[t._v("Arbeitgeber:")]),a("td",[t._v(t._s(t.patient.employer||"Keine Angabe"))])])])])],1),a("a-col",{attrs:{md:8,span:24}},[a("a-card",{attrs:{align:"left",title:"Versicherung"}},[a("table",[a("tr",[a("td",[t._v("Versicherung:")]),a("td",[t._v(t._s(t.patient.insuranceCompany))])]),a("tr",[a("td",[t._v("V-Nr:")]),a("td",[t._v(t._s(t.patient.insuranceMembershipNumber))])])])])],1)],1)],1),a("a-tab-pane",{key:"Cases",attrs:{tab:"Falldaten"}},[a("div",{staticClass:"tool-row"},[a("div",{staticStyle:{"font-size":"18px","padding-left":"16px"}}),a("span",{staticStyle:{flex:"1 1 auto"}}),a("a-button",{attrs:{icon:"edit"},on:{click:t.editPatientFalldaten}},[t._v(" Falldaten ändern ")])],1),a("CaseData",{attrs:{allIncidents:t.incidents,preIllnesses:t.preIllnesses,patientInfectionSources:t.patientInfectionSources,exposureContacts:t.exposureContacts}})],1),a("a-tab-pane",{key:"timeline",attrs:{forceRender:"",tab:"Verlauf"}},[a("History",{attrs:{allIncidents:t.incidents}})],1),a("a-tab-pane",{key:"infection-chain",attrs:{forceRender:"",tab:"Infektionskette"}},[a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-card",{attrs:{align:"left",title:"Infektionsquellen"}},[a("a-descriptions",{attrs:{layout:"vertical",column:{xs:1,sm:1,md:2,lg:2}}},[a("a-descriptions-item",[a("span",{attrs:{slot:"label"},slot:"label"},[a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"user"}}),t._v(" Kontakte mit Indexpatienten "),t.patientInfectionSources.length>0?a("span",[t._v("("+t._s(t.patientInfectionSources.length)+")")]):t._e()],1),t.patientInfectionSources.length>0?a("div",[a("a-table",{staticClass:"table-index-patients",attrs:{columns:t.columnsIndexPatients,dataSource:t.patientInfectionSources,rowKey:function(e){return e.id},showHeader:!1,pagination:!1},scopedSlots:t._u([{key:"name",fn:function(e){return[a("a",{on:{click:function(n){return t.showPatient(e.source.id)}}},[t._v(t._s(e.source.firstName)+" "+t._s(e.source.lastName))]),t._v(", ")]}},{key:"dateOfContact",fn:function(e){return[t._v(" am "+t._s(t.moment(e.dateOfContact).format("DD.MM.YYYY"))+", ")]}}],null,!1,3867097723)})],1):a("div",[t._v(" Keine bekannt ")])]),a("a-descriptions-item",{attrs:{label:"Sonstige"}},[t._v(" Keine bekannt ")])],1)],1)],1),a("a-row",{staticStyle:{"margin-top":"8px"},attrs:{gutter:8}},[a("a-card",{attrs:{title:"Kontaktpersonen",align:"left",bodyStyle:{padding:0}}},[a("div",{attrs:{slot:"extra"},slot:"extra"},[a("a-button",{attrs:{icon:"plus",type:"primary"},on:{click:t.addExposureContact}},[t._v(" Hinzufügen ")])],1),a("a-table",{staticClass:"imis-table-no-pagination",attrs:{columns:t.columnsExposureContacts,pagination:!1,dataSource:t.exposureContacts,rowKey:function(e){return e.contact.id},loading:t.exposureContactsLoading,customRow:function(e){return{on:{dblclick:function(){return t.showExposureContact(e.id)}}}}},scopedSlots:t._u([{key:"gotoPatient",fn:function(e){return[a("a-button",{attrs:{ghost:"",icon:"user",type:"primary",title:"Patientendaten anzeigen"},on:{click:function(n){return t.showPatient(e.contact.id)}}})]}},{key:"dateOfContact",fn:function(e){return[t._v(" "+t._s(t.moment(e.dateOfContact).format("DD.MM.YYYY"))+" ")]}},{key:"infectionState",fn:function(e){return[e.contact.infected?a("span",{staticStyle:{color:"red"}},[t._v(" Infiziert ")]):a("span",[t._v(" Unbekannt ")])]}},{key:"quarantineState",fn:function(e){return[e.contact.inQuarantine?a("span",[t._v(" In Quarantäne ")]):a("span",{style:"color: "+(e.contact.infected?"red":"unset")+";"},[t._v(" Keine Quarantäne ")])]}},{key:"actions",fn:function(e){return[a("div",{staticClass:"inline-buttons"},[a("a-button",{attrs:{ghost:"",icon:"edit",type:"primary",title:"Bearbeiten"},on:{click:function(n){return t.showExposureContact(e.id)}}}),a("a-button",{attrs:{ghost:"",icon:"close",type:"danger",title:"Entfernen"},on:{click:function(n){return t.removeExposureContact(e.id)}}})],1)]}}],null,!1,3932245124)})],1)],1),a("a-modal",{ref:"exposureContactModal",attrs:{title:"Kontaktperson bearbeiten",visible:!!t.exposureContactInEditing},on:{ok:function(e){return t.persistExposureContact()},cancel:function(e){t.exposureContactInEditing=null}}},[a("a-form",{attrs:{form:t.exposureContactForm,selfUpdate:!0,layout:"vertical"}},[a("EditExposureContact",{attrs:{disableOriginatorPatient:!0,showOriginatorPatient:!1,contactPatient:t.exposureContactInEditing?t.exposureContactInEditing.contact:null},on:{showPatient:t.showPatient}})],1)],1)],1)],1):t._e()],1):t._e()],1)},dt=[],mt=(n("b0c0"),n("c1df")),pt=n.n(mt);n("07ac"),n("4fad"),n("c1f9");function ft(e){var t,n=void 0,a=new O;a.request=function(e,t){n={path:e,method:t}};for(var r=[],i=0;i<e.length-1;i++)r.push("*");if((t=a.api)[e.name].apply(t,r),n)return n;throw new Error("Could not extract request parameters from function")}function ht(e){return vt.apply(this,arguments)}function vt(){return vt=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,o,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],a=!1,t||(t=Object.values(N.api)),"object"===Object(x["a"])(t)?(r=[],Object.entries(t).forEach((function(e){n.push(e[0]),r.push(e[1])})),t=r):t&&!Array.isArray(t)&&(t=[t],a=!0),e.next=6,N.queryPermissionsUsingPost(Object.fromEntries(t.map((function(e){return[e.name,ft(e)]}))));case 6:for(i=e.sent,s=[],o=0;o<t.length;o++)s[o]=i[t[o].name];if(!a){e.next=13;break}return e.abrupt("return",s[0]);case 13:if(!n){e.next=19;break}for(u={},c=0;c<n.length;c++)u[n[c]]=s[c];return e.abrupt("return",u);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)}))),vt.apply(this,arguments)}var gt=function e(){Object(y["a"])(this,e),this.patients=[]},bt=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(y["a"])(this,n),t.apply(this,arguments)}return Object(v["a"])(n,[{key:"patientById",value:function(e){return this.state.patient&&this.state.patient.id===e?this.state.patient:this.state.patients.find((function(t){return t.id===e}))}}]),n}(j["b"]),yt=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(y["a"])(this,n),t.apply(this,arguments)}return Object(v["a"])(n,[{key:"addPatients",value:function(e){this.state.patients.concat(e)}},{key:"setPatients",value:function(e){this.state.patients=e}},{key:"setPatient",value:function(e){this.state.patient=e}}]),n}(j["d"]),xt=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(y["a"])(this,n),t.apply(this,arguments)}return Object(v["a"])(n,[{key:"fetchPatients",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.getAllPatientsUsingGet();case 3:n=e.sent,this.commit("setPatients",n),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$notification.error({message:"Fehler",description:"Patienten kontent nicht geladen werden"});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerPatient",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.addPatientUsingPost(t.patient);case 3:return n=e.sent,this.commit("setPatient",n),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(j["a"]),St=new j["c"]({state:gt,getters:bt,mutations:yt,actions:xt}),_t=Object(j["e"])(St),wt=[{id:"REGISTERED",label:"Registriert",icon:"login"},{id:"SUSPECTED",label:"Verdachtsfall",icon:"search"},{id:"ORDER_TEST",label:"Test angefordert",icon:"experiment"},{id:"SCHEDULED_FOR_TESTING",label:"Wartet auf Test",icon:"team"},{id:"TEST_SUBMITTED",label:"Test eingereicht",icon:"clock-circle"},{id:"TEST_FINISHED_POSITIVE",label:"Test positiv",icon:"check"},{id:"TEST_FINISHED_NEGATIVE",label:"Test negativ",icon:"stop"},{id:"PATIENT_DEAD",label:"Verstorben",icon:"cloud"},{id:"DOCTORS_VISIT",label:"Arztbesuch",icon:"reconciliation"},{id:"QUARANTINE_SELECTED",label:"Quarantäne vorgemerkt",icon:"safety"},{id:"QUARANTINE_MANDATED",label:"Quarantäne angeordnet",icon:"safety"},{id:"QUARANTINE_RELEASED",label:"Quarantäne aufgehoben",icon:"safety"},{id:"QUARANTINE_PROFESSIONBAN_RELEASED",label:"Arbeitsverbot aufgehoben",icon:"safety"},{id:"HOSPITALIZATION_MANDATED",label:"Hospitalisiert",icon:"safety"},{id:"HOSPITALIZATION_RELEASED",label:"Hospitalisierung aufgehoben",icon:"safety"},{id:"CASE_DATA_UPDATED",label:"Symptome oder Erkrankungsdatum aktualisiert",icon:"safety"}],Ot=[{id:"TEST_SUBMITTED",label:"Test eingereicht",icon:"login"},{id:"TEST_POSITIVE",label:"Test positiv",icon:"check"},{id:"TEST_NEGATIVE",label:"Test negativ",icon:"stop"}],kt=[{label:"Appetitverlust",value:"LOSS_OF_APPETITE"},{label:"Atembeschwerden",value:"DIFFICULTY_BREATHING"},{label:"Atemnot",value:"SHORTNESS_OF_BREATH"},{label:"Fieber",value:"FEVER"},{label:"Gewichtsverlust",value:"WEIGHT_LOSS"},{label:"Husten",value:"COUGH"},{label:"Kopfschmerzen",value:"HEADACHE"},{label:"Muskelschmerzen",value:"MUSCLE_PAIN"},{label:"Rückenschmerzen",value:"BACK_PAIN"},{label:"Schnupfen",value:"COLD"},{label:"Übelkeit",value:"NAUSEA"},{label:"Verlust des Geruchs- und/oder Geschmackssinnes",value:"LOSS_OF_SENSE_OF_SMELL_TASTE"}],It=[{label:"Akutes schweres Atemsyndrom (ARDS)",value:"ARDS"},{label:"Beatmungspflichtige Atemwegserkrankung",value:"RESPIRATORY_DISEASE"}],Pt=[{label:"Chronische Lungenerkrankung (z.B. COPD)",value:"CHRONIC_LUNG_DISEASE"},{label:"Diabetes",value:"DIABETES"},{label:"Fettleibigkeit",value:"ADIPOSITAS"},{label:"Herz-Kreislauf (inkl. Bluthochdruck)",value:"CARDIOVASCULAR_DISEASE"},{label:"Immundefizit (inkl. HIV)",value:"IMMUNODEFICIENCY"},{label:"Krebserkrankung",value:"CANCER"},{label:"Lebererkrankung",value:"LIVER_DISEASE"},{label:"Neurologische / neuromuskuläre Erkrankung",value:"NEUROLOGICAL_DISEASE"},{label:"Nierenerkrankung",value:"KIDNEY_DISEASE"},{label:"Raucher",value:"SMOKING"},{label:"Schwangerschaft",value:"PREGNANCY"}],Et=[{id:"ANTIBODY",label:"Antikörper"},{id:"PCR",label:"PCR"}],Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-row",{attrs:{gutter:8}},[n("TestIncidentsCard",{staticStyle:{"margin-top":"8px"},attrs:{testIncidents:e.test}})],1),n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{md:8,span:24}},[n("a-card",{staticStyle:{"margin-top":"8px"},attrs:{align:"left",title:"Basisinformationen"}},[n("table",[n("tr",[n("td",[e._v("Krankheit:")]),n("td",[e._v(e._s(e.administrative.illness))])]),n("tr",[n("td",[e._v("Erkrankungsdatum:")]),n("td",[e._v(e._s(e.getDate(e.administrative.dateOfIllness)))])]),n("tr",[n("td",[e._v("Meldedatum:")]),n("td",[e._v(e._s(e.getDate(e.administrative.dateOfReporting)))])]),n("tr",[n("td",[e._v("Behandelnder Artzt:")]),n("td",[e._v(e._s(e.administrative.responsibleDoctor||"keine Angabe"))])])])]),n("a-card",{staticStyle:{"margin-top":"8px"},attrs:{align:"left",title:"Infektionskette"}},[n("a-descriptions",{attrs:{layout:"vertical",column:1}},[n("a-descriptions-item",[n("span",{attrs:{slot:"label"},slot:"label"},[n("a-icon",{attrs:{type:"arrow-right"}}),n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"user"}}),e._v(" Kontakte mit Indexpatienten")],1),e.patientInfectionSources.length>0?n("span",[e._v(e._s(e.patientInfectionSources.length))]):n("span",[e._v("Keine")]),e._v(" bekannt ")]),n("a-descriptions-item",[n("span",{attrs:{slot:"label"},slot:"label"},[n("a-icon",{attrs:{type:"user"}}),n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"arrow-right"}}),e._v(" Eigene Kontaktpersonen")],1),e.exposureContacts.length>0?n("span",[e._v(e._s(e.exposureContacts.length))]):n("span",[e._v("Keine")]),e._v(" angegeben ")])],1)],1)],1),n("a-col",{attrs:{md:8,span:24}},[n("a-card",{staticStyle:{"margin-top":"8px"},attrs:{align:"left",title:"Symptome, Prädisposition"}},[""===e.administrative.symptoms[0]?n("div",[e._v(" Keine Symptome erfasst. ")]):n("div",[e._v(" Symptome: "),n("ul",e._l(e.administrative.symptoms,(function(t){return n("li",{key:t},[e._v(" "+e._s(e.SYMPTOMS.find((function(e){return e.value===t}))?e.SYMPTOMS.find((function(e){return e.value===t})).label:t)+" ")])})),0)]),n("br"),""===e.preIllnesses[0]?n("div",[e._v(" Keine Prädispositionsinformationen. ")]):n("div",[e._v(" Prädisposition: "),n("ul",e._l(e.preIllnesses,(function(t){return n("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0)])])],1),n("a-col",{attrs:{md:8,span:24}},[n("QuarantineHospitalizationCard",{staticStyle:{"margin-top":"8px"},attrs:{quarantineIncidents:e.quarantine,hospitalizationIncidents:e.hospitalization}})],1)],1)],1)},Ct=[],Nt=n("2909"),At=(n("c740"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{background:"white",border:"1px solid #e8e8e8"}},[n("div",{staticClass:"card-header"},[e._v(" Tests ")]),n("a-table",{staticClass:"imis-table-no-pagination",attrs:{columns:e.columnsTests,dataSource:e.testIncidents,scroll:{x:0,y:0},rowKey:"id"},scopedSlots:e._u([{key:"eventDate",fn:function(t){return n("div",{},[e._v(" "+e._s(e.getDate(t))+" ")])}},{key:"status",fn:function(t){return n("div",{},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:e.testResults.find((function(e){return e.id===t})).icon}}),e._v(" "+e._s(e.testResults.find((function(e){return e.id===t})).label)+" ")],1)}},{key:"type",fn:function(t){return n("div",{},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:e.testTypes.find((function(e){return e.id===t})).icon}}),e._v(" "+e._s(e.testTypes.find((function(e){return e.id===t})).label)+" ")],1)}}])})],1)}),Dt=[];function jt(e){return void 0!==e&&null!==e&&"null"!==e?pt()(e).format("DD.MM.YYYY"):"Keine Angabe"}var qt=[{title:"Test ID",dataIndex:"testId",key:"testId"},{title:"Test Typ",dataIndex:"type",key:"type",scopedSlots:{customRender:"type"}},{title:"Test Status",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"Aktualisiert",dataIndex:"eventDate",key:"eventDate",scopedSlots:{customRender:"eventDate"}},{title:"Kommentar",dataIndex:"comment",key:"comment"}],Rt={name:"TestIncidentsCard",props:{testIncidents:{type:Array}},data:function(){return{columnsTests:qt,testResults:Ot,testTypes:Et}},methods:{getDate:jt}},Ut=Rt,Ft=(n("4094"),Object(u["a"])(Ut,At,Dt,!1,null,"100ce0ad",null)),zt=Ft.exports,Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{align:"left",title:"Quarantäne, Hospitalisierung"}},[e.quarantineIncidents.length?e._e():n("div",[e._v(" Keine Quarantäne. ")]),e._l(e.quarantineIncidents,(function(t){return n("div",{key:t.id},[e._v(" Quarantäne "),n("table",[n("tr",[n("td",{staticClass:".list-item"},[e._v("- Beginn:")]),n("td",[e._v(e._s(e.getDate(t.eventDate)))])]),n("tr",[n("td",[e._v("- Ende:")]),n("td",[e._v(e._s(e.getDate(t.until)))])])])])})),n("br"),e.hospitalizationIncidents.length?e._e():n("div",[e._v(" Keine Hospitalisierung. ")]),e._l(e.hospitalizationIncidents,(function(t){return n("div",{key:t.id},[e._v(" Hospitalisierung "),n("table",[n("tr",[n("td",[e._v("- Beginn:")]),n("td",[e._v(e._s(e.getDate(t.eventDate)))])]),n("tr",[n("td",[e._v("- Ende:")]),n("td",[e._v(e._s(e.getDate(t.releasedOn)))])]),n("tr",[n("td",[e._v("- Intensiv:")]),n("td",[e._v(e._s(t.intensiveCare?"Ja":"Nein"))])])])])}))],2)},Lt=[],Vt={name:"QuarantineHospitalizationCard",props:{hospitalizationIncidents:{type:Array},quarantineIncidents:{type:Array}},methods:{getDate:jt}},Gt=Vt,$t=(n("d08f"),Object(u["a"])(Gt,Bt,Lt,!1,null,"7ab8cd81",null)),Mt=$t.exports,Yt=function(e){return e.sort((function(e,t){return t.id.localeCompare(e.id)||t.versionTimestamp.localeCompare(e.versionTimestamp)})).filter((function(t,n){return e.findIndex((function(e){return e.id===t.id}))===n}))},Ht=i["a"].extend({name:"Incidents",components:{TestIncidentsCard:zt,QuarantineHospitalizationCard:Mt},watch:{allIncidents:{immediate:!0,handler:function(e){var t=Object(Nt["a"])(e.administrativeIncidents),n=Object(Nt["a"])(e.quarantineIncidents),a=Object(Nt["a"])(e.hospitalizationIncidents),r=Object(Nt["a"])(e.testIncidents);this.administrative=Yt(t)[0],this.quarantine=Yt(n),this.hospitalization=Yt(a),this.test=Yt(r)}}},props:{allIncidents:{type:Object},preIllnesses:Array,patientInfectionSources:Array,exposureContacts:Array},data:function(){return{administrative:void 0,test:[],quarantine:[],hospitalization:[],SYMPTOMS:kt}},methods:{getDate:jt}}),Qt=Ht,Kt=(n("d7ec"),Object(u["a"])(Qt,Tt,Ct,!1,null,"742f113e",null)),Jt=Kt.exports,Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",[e.incidents.length?n("a-timeline",{staticStyle:{"text-align":"left","margin-left":"40px"},attrs:{mode:"left"}},e._l(e.incidents,(function(t){return n("a-timeline-item",{key:t.id+t.versionTimestamp,attrs:{color:e.timelineColor(t.eventType)}},[e._v(" "+e._s(e.formatDate(t.eventDate))+", "+e._s(e.eventTypes.find((function(e){return e.id===t.eventType})).label)+" "),t.versionUser?n("div",[e._v(" erfasst "+e._s(e.formatTimestamp(t.versionTimestamp))+" durch "+e._s(t.versionUser.institution.name)+" ")]):n("div",[e._v(" erfasst "+e._s(e.formatTimestamp(t.versionTimestamp))+" ")])])})),1):e._e()],1)},Wt=[],Xt=(n("0481"),i["a"].extend({name:"History",components:{},props:{allIncidents:{type:Object}},data:function(){return{eventTypes:wt,incidents:[]}},watch:{allIncidents:{immediate:!0,handler:function(e){this.incidents=Object.values(e).flat().sort((function(e,t){return console.log(e,t),e.eventDate.localeCompare(t.eventDate)||e.versionTimestamp.localeCompare(t.versionTimestamp)}))}}},methods:{formatDate:function(e){var t=pt()(e);return t.isValid()?t.format("DD.MM.YYYY"):"Unbekannt"},formatTimestamp:function(e){var t=pt()(e);return t.isValid()?pt()(e).format("DD.MM.YYYY HH:mm"):"Unbekannt"},timelineColor:function(e){switch(e){case"TEST_FINISHED_POSITIVE":return"red";case"TEST_FINISHED_NEGATIVE":return"green";default:return"grey"}}}})),en=Xt,tn=Object(u["a"])(en,Zt,Wt,!1,null,"76c17cb6",null),nn=tn.exports,an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Patientenstammdaten ändern",okText:"Speichern",cancelText:"Abbrechen",width:"650px"},on:{cancel:function(){e.$emit("cancel")},ok:e.save}},[n("a-form",{attrs:{form:e.form,layout:"vertical",wrapperCol:{span:23}}},[n("PatientStammdaten",{attrs:{patient:e.patient,form:e.form,"show-death":"true","show-stay":"true"}})],1)],1)},rn=[],sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"data-form"},[n("div",[n("h4",[e._v("Allgemeine Angaben")]),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Vorname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["firstName",{rules:[{required:!0,message:"Bitte Vornamen eingeben"}],initialValue:e.patientInput.firstName}],expression:"[\n              'firstName',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Vornamen eingeben',\n                  },\n                ],\n                initialValue: patientInput.firstName,\n              },\n            ]"}]})],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Nachname"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lastName",{rules:[{required:!0,message:"Bitte Nachnamen eingeben"}],initialValue:e.patientInput.lastName}],expression:"[\n              'lastName',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Nachnamen eingeben',\n                  },\n                ],\n                initialValue: patientInput.lastName,\n              },\n            ]"}]})],1)],1)],1),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Staatsangehörigkeit"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nationality",{rules:[{required:!0,message:"Bitte Staatsangehörigkeit angeben"}],initialValue:e.patientInput.nationality||"deutsch"}],expression:"[\n              'nationality',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Staatsangehörigkeit angeben',\n                  },\n                ],\n                initialValue: patientInput.nationality || 'deutsch',\n              },\n            ]"}]})],1)],1)],1),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Mediz. Geschlecht"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender",{rules:[{required:!0,message:"Bitte Geschlecht eingeben"}],initialValue:e.patientInput.gender}],expression:"[\n              'gender',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Geschlecht eingeben',\n                  },\n                ],\n                initialValue: patientInput.gender,\n              },\n            ]"}],attrs:{buttonStyle:"solid"},on:{change:e.genderSelected}},[n("a-radio",{attrs:{value:"male"}},[e._v("Männlich")]),n("a-radio",{attrs:{value:"female"}},[e._v("Weiblich")]),n("a-radio",{attrs:{value:"divers"}},[e._v("Divers")])],1)],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Geburtsdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfBirth",{rules:[{required:!0,message:"Bitte Geburtsdatum eingeben"}],initialValue:e.initialDateOfBirth}],expression:"[\n              'dateOfBirth',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Geburtsdatum eingeben',\n                  },\n                ],\n                initialValue: initialDateOfBirth,\n              },\n            ]"}]})],1)],1)],1),e.showDeath?n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Verstorben"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["died",{rules:[{required:!0,message:"Bitte Status angeben"}],initialValue:!!e.patientInput.dateOfDeath}],expression:"[\n              'died',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Bitte Status angeben',\n                  },\n                ],\n                initialValue: !!patientInput.dateOfDeath,\n              },\n            ]"}],on:{change:e.diedChanged}},[n("a-radio",{attrs:{value:!0}},[e._v("Ja")]),n("a-radio",{attrs:{value:!1}},[e._v("Nein")])],1)],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Todesdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfDeath",{initialValue:e.initialDateOfDeath}],expression:"[\n              'dateOfDeath',\n              { initialValue: initialDateOfDeath },\n            ]"}],attrs:{disabled:!e.showDateOfDeath}})],1)],1)],1):e._e(),n("a-divider"),n("h4",[e._v("Wohnort")]),n("location-form-group",{attrs:{form:e.form,data:e.patient,required:!0}}),e.showStay?n("div",[n("a-divider"),n("h4",[e._v("Aufenthaltsort, falls von Wohnort abweichend")]),n("location-form-group",{attrs:{data:e.patient,required:!1,fieldNamePrefix:"stay"}})],1):e._e(),n("a-divider"),n("h4",[e._v("Kommunikation und Beruf")]),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"E-mail"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!1,message:"Bitte Email eingeben"}],initialValue:e.patientInput.email}],expression:"[\n              'email',\n              {\n                rules: [\n                  {\n                    required: false,\n                    message: 'Bitte Email eingeben',\n                  },\n                ],\n                initialValue: patientInput.email,\n              },\n            ]"}]})],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Telefon"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{rules:[{required:!1,message:"Bitte Telefonnummer eingeben"}],initialValue:e.patientInput.phoneNumber}],expression:"[\n              'phoneNumber',\n              {\n                rules: [\n                  {\n                    required: false,\n                    message: 'Bitte Telefonnummer eingeben',\n                  },\n                ],\n                initialValue: patientInput.phoneNumber,\n              },\n            ]"}]})],1)],1)],1),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Beruf"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["riskOccupation",{rules:[{required:!1,message:"Bitte Beruf eingeben"}],initialValue:e.initialRiskOccupation}],expression:"[\n              'riskOccupation',\n              {\n                rules: [\n                  {\n                    required: false,\n                    message: 'Bitte Beruf eingeben',\n                  },\n                ],\n                initialValue: initialRiskOccupation,\n              },\n            ]"}],on:{select:e.riskOccupationSelected}},e._l(e.riskOccupations,(function(t){return n("a-select-option",{key:t.value},[e._v(" "+e._s(t.label)+" ")])})),1),n("transition",{attrs:{name:"fading"}},[n("a-input",{directives:[{name:"show",rawName:"v-show",value:!e.disableOccupation,expression:"!disableOccupation"},{name:"decorator",rawName:"v-decorator",value:["occupation",{rules:[{message:"Bitte Beruf eingeben"}],initialValue:e.patientInput.occupation}],expression:"[\n                'occupation',\n                {\n                  rules: [\n                    {\n                      message: 'Bitte Beruf eingeben',\n                    },\n                  ],\n                  initialValue: patientInput.occupation,\n                },\n              ]"}],ref:"occupation",staticStyle:{"margin-top":"12px"},attrs:{disabled:e.disableOccupation,placeholder:"Berufsbezeichnung"}})],1)],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Arbeitgeber"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["employer",{initialValue:e.patientInput.employer}],expression:"[\n              'employer',\n              { initialValue: patientInput.employer },\n            ]"}]})],1)],1)],1),n("a-divider"),n("h4",[e._v("Krankenkasse")]),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Krankenkasse (optional)"}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:["insuranceCompany",{initialValue:e.patientInput.insuranceCompany}],expression:"[\n              'insuranceCompany',\n              { initialValue: patientInput.insuranceCompany },\n            ]"}],attrs:{filterOption:!1},on:{search:e.searchInsuranceCompanies}},[n("template",{slot:"dataSource"},[e._l(e.insuranceCompanies.preDefined,(function(t){return n("a-select-option",{key:t},[e._v(e._s(t))])})),e._l(e.insuranceCompanies.userDefined,(function(t){return n("a-select-option",{key:t},[e._v(e._s(t))])}))],2)],2)],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Versichertennr."}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["insuranceMembershipNumber",{initialValue:e.patientInput.insuranceMembershipNumber}],expression:"[\n              'insuranceMembershipNumber',\n              { initialValue: patientInput.insuranceMembershipNumber },\n            ]"}]})],1)],1)],1)],1)])},on=[],un=n("3835"),cn=(n("466d"),[{value:"DOCTOR",label:"Arzt/Ärztin"},{value:"CAREGIVER",label:"Altenpfleger-in"},{value:"FIRE_FIGHTER_POLICE",label:"Gefahrenabwehr (Polizei, Feuerwehr usw.)"},{value:"NURSE",label:"Krankenpfleger-in"},{value:"TEACHER",label:"Lehrer-in/Kindergärtner-in"},{value:"PUBLIC_ADMINISTRATION",label:"Öffentliche Verwaltung"},{value:"STUDENT",label:"Schüler-in"},{value:"NO_RISK_OCCUPATION",label:"Anderer"}]),ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-date-picker",e._g(e._b({attrs:{value:e.value,format:e.format,open:e.open||e.dateOfBirthPickerOpen,placeholder:e.placeholder},on:{focus:e.datePickerFocused,openChange:e.openChanged}},"a-date-picker",e.$attrs,!1),e.$listeners))},dn=[],mn=n("1df6");function pn(){return null}function fn(e,t){return e}function hn(e,t){return e}function vn(e,t){return t?t+e.charAt(0).toUpperCase()+e.substring(1):e}var gn=i["a"].extend({props:{fieldNamePrefix:{type:String,default:void 0},fieldIdentifiers:{type:Object,default:function(){return{}}},inputProps:{type:Object,default:function(){return Object.fromEntries(this.$options.fieldIdentifiers.map((function(e){return[e,{}]})))}}},data:function(){return{formFieldNameBackTranslation:{}}},inject:{FormContext:{default:function(){return{}}}},created:function(){var e=this;this.$options.fieldIdentifiers&&this.$options.fieldIdentifiers.forEach((function(t){e.formFieldNameBackTranslation[e.formFieldName(t)]=t}))},mounted:function(){var e=this;this.$options.fieldIdentifiers&&this.$options.fieldIdentifiers.forEach((function(t){e.getFormContext().form.formItems[e.formFieldName(t)].itemSelfUpdate||console.error("[ ".concat(e.$options.name," ]: ")+"`itemSelfUpdate` is not enabled for form item of `".concat(t,"`. ")+'This may lead to contents not being re-rendered when their value is modified by calling `setFieldsValue` on its containing form. To fix this, add `:selfUpdate="true"` to '+"the `a-form-item` component containing the `".concat(t,"` control ")+'or add `:selfUpdate="true"` to the root `a-form` element.')}))},methods:{getFormContext:function(){return hn(this,pn()).FormContext},formFieldName:function(e){var t=this.$props.fieldNames;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:vn(e,this.$props.fieldNamePrefix)},setData:function(e,t){var n=this;if(!this.$options.fieldIdentifiers)throw new Error("[ ".concat(this.$options.name," ]: `setData` not supported"));t||(e=Object.fromEntries(Object.entries(e).map((function(e){return[n.formFieldName(e[0]),e[1]]}))));var a=this.$options.fieldIdentifiers.map(this.formFieldName);e=Object.fromEntries(Object.entries(e).filter((function(e){return a.includes(e[0])}))),this.getFormContext().form.setFieldsValue(e)},getData:function(e,t){var n=this;if(!this.$options.fieldIdentifiers)throw new Error("[ ".concat(this.$options.name," ]: `getData` not supported"));void 0===e||t||(e=e.map((function(e){var t=n.formFieldName(e);return t})));var a=this.$options.fieldIdentifiers.map(this.formFieldName);e=void 0===e?a:e.filter((function(e){return a.includes(e)}));var r=this.getFormContext().form.getFieldsValue(e);return t||(r=Object.fromEntries(Object.entries(r).map((function(e){return[n.formFieldNameBackTranslation[e[0]],e[1]]})))),r},getSingleValue:function(e,t){var n=t?e:this.formFieldName(e);return this.getData([n],!0)[n]}}}),bn=i["a"].extend({inject:{FormContext:{default:function(){return{}}}},computed:{fieldName:function(){return this.getFormContext()&&this.$attrs["data-__field"]?fn(this.$attrs["data-__field"]).name:null}},data:function(){return{FormControlConvValue:void 0}},created:function(){var e=this;if(this.$options.fieldValueConvert){var t=this.$options.model&&this.$options.model.prop?this.$options.model.prop:"value";this.$watch(t,(function(t){if(e.FormControlConvValue===t)e.FormControlConvValue=void 0;else if(e.$options.fieldValueConvert){var n=e.$options.fieldValueConvert.call(e,t);n!==t&&(e.FormControlConvValue=n,e.setOwnValue(n))}}))}},methods:{getFormContext:function(){return hn(this,pn()).FormContext},isDecoratedFormField:function(){return!(!this.getFormContext()||!this.$attrs["data-__field"])},setOwnValue:function(e){var t=this.$options.model&&this.$options.model.event?this.$options.model.event:"change";this.$emit(t,e)},getOwnValue:function(){var e=this.$options.model&&this.$options.model.prop?this.$options.model.prop:"value";return this[e]}}}),yn=Object(mn["a"])(bn).extend({name:"DateInput",mixins:[bn],model:{prop:"value",event:"change"},props:{value:{default:void 0},open:{default:!1},placeholder:{default:"z.B. 28.02.1986"},format:{default:function(){return["DD.MM.YYYY","D.M.YYYY"]}}},data:function(){return{dateOfBirthPickerOpen:!1,wasJustFocused:!1}},methods:{datePickerFocused:function(){var e=this;this.dateOfBirthPickerOpen=!0,this.wasJustFocused=!0,setTimeout((function(){e.wasJustFocused=!1}),500)},openChanged:function(e){this.wasJustFocused||(this.dateOfBirthPickerOpen=e)}}}),xn=yn,Sn=Object(u["a"])(xn,ln,dn,!1,null,"21d4e7b4",null),_n=Sn.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"location-form-group"},[e._t("default",[n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Straße, Hausnummer",itemSelfUpdate:!0}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("street"),{rules:[{required:!1!==e.$props.required,message:"Bitte Straße und Hausnummer eingeben"}],initialValue:e.initialData("street")}],expression:"[\n              formFieldName('street'),\n              {\n                rules: [\n                  {\n                    required: $props.required !== false,\n                    message: 'Bitte Straße und Hausnummer eingeben',\n                  },\n                ],\n                initialValue: initialData('street'),\n              },\n            ]"}],ref:"street",staticClass:"custom-input",staticStyle:{width:"calc(100%)"},attrs:{placeholder:"Straße und Hausnummer"}})],1)],1),n("a-col",{attrs:{lg:12,sm:24}},[n("div",{staticStyle:{display:"flex"}},[n("a-form-item",{staticClass:"imis-plz-form-item",staticStyle:{flex:"0 0 60pt"},attrs:{label:"PLZ",itemSelfUpdate:!0}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("zip"),{rules:[{required:!1!==e.$props.required,message:"Bitte PLZ eingeben"}],initialValue:e.initialData("zip")}],expression:"[\n                formFieldName('zip'),\n                {\n                  rules: [\n                    {\n                      required: $props.required !== false,\n                      message: 'Bitte PLZ eingeben',\n                    },\n                  ],\n                  initialValue: initialData('zip'),\n                },\n              ]"}],ref:"zip",staticClass:"custom-input",attrs:{placeholder:"PLZ",dataSource:e.zips,optionLabelProp:"value",dropdownMenuStyle:{width:"max-content"},tabIndex:-1},on:{search:e.handleZipSearch,select:function(t){return e.handleZipSelection(t)}}})],1),n("a-form-item",{staticClass:"imis-city-form-item",staticStyle:{flex:"1 1 auto"},attrs:{label:"Ort",itemSelfUpdate:!0}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("city"),{rules:[{required:!1!==e.$props.required,message:"Bitte Ort eingeben"}],initialValue:e.initialData("city")}],expression:"[\n                formFieldName('city'),\n                {\n                  rules: [\n                    {\n                      required: $props.required !== false,\n                      message: 'Bitte Ort eingeben',\n                    },\n                  ],\n                  initialValue: initialData('city'),\n                },\n              ]"}],ref:"city",staticClass:"custom-input",attrs:{placeholder:"Ort"}})],1)],1)])],1),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{lg:12,sm:24}},[n("a-form-item",{attrs:{label:"Land",selfUpdate:!0}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("country"),{rules:[{required:!1!==e.$props.required,message:"Bitte Land auswählen"}],initialValue:e.initialCountry()}],expression:"[\n              formFieldName('country'),\n              {\n                rules: [\n                  {\n                    required: $props.required !== false,\n                    message: 'Bitte Land auswählen',\n                  },\n                ],\n                initialValue: initialCountry(),\n              },\n            ]"}],ref:"country",staticClass:"custom-input",attrs:{placeholder:"Bitte wählen..."}},[n("a-select-opt-group",[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("Schnellzugriff")]),e.required?e._e():n("a-select-option",{attrs:{value:""}},[e._v(" Unbekannt ")]),n("a-select-option",{attrs:{value:"DE"}},[e._v(" Deutschland ")])],1),n("a-select-opt-group",[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("Alle ("+e._s(e.countries.length)+")")]),e._l(e.countries,(function(t){return n("a-select-option",{key:t.code,attrs:{value:t.code}},[e._v(" "+e._s(t.name)+" ")])}))],2)],1)],1)],1)],1)])],2)},On=[],kn=[];function In(){return Pn.apply(this,arguments)}function Pn(){return Pn=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(kn.length>0)){e.next=4;break}return e.abrupt("return",kn);case 4:return e.next=6,N.getCountriesUsingGet();case 6:return t=e.sent,kn=t,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)}))),Pn.apply(this,arguments)}var En=Object(mn["a"])(gn).extend({name:"LocationFormGroup",fieldIdentifiers:["street","zip","city","country"],props:["required","data"],created:function(){var e=this;In().then((function(t){e.countries=t}))},data:function(){return{zips:[],currentZipSearch:"",countries:[]}},methods:{withExts:function(){return hn(this,pn())},initialCountry:function(){var e=this.initialData("country");return!e&&this.required?"DE":e},initialData:function(e){return this.$props.data?this.$props.data[this.withExts().formFieldName(e)]:null},updateByZipData:function(e){this.withExts().setData({zip:e.fields.plz,city:e.fields.note,country:"DE"})},handleZipSearch:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.currentZipSearch=e,e&&!(e.length<4)){n.next=5;break}t.zips=[],n.next=13;break;case 5:return n.next=7,W(e);case 7:if(a=n.sent,t.currentZipSearch===e){n.next=10;break}return n.abrupt("return");case 10:if(0!==a.length){n.next=12;break}return n.abrupt("return");case 12:1===a.length?(setTimeout((function(){t.updateByZipData(a[0]),t.$refs.city.focus()}),0),t.zips=[]):(t.zips=a.map((function(e){return{text:"".concat(e.fields.plz," ").concat(e.fields.note),value:e.fields.plz,zipData:e}})),r=function e(){var n=document.evaluate('string(./descendant-or-self::*[@aria-controls and contains(@class, "ant-select-selection")]/@aria-controls)',t.$refs.zip.$el,null,XPathResult.STRING_TYPE).stringValue,a=document.getElementById(n);a?(a=a.parentElement,a.style.width="max-content"):i["a"].nextTick(e)},i["a"].nextTick(r));case 13:case"end":return n.stop()}}),n)})))()},handleZipSelection:function(e){var t=this,n=this.zips.find((function(t){return t.value===e}));n&&setTimeout((function(){t.updateByZipData(n.zipData),t.$refs.city.focus()}),0)}}}),Tn=En,Cn=(n("0382"),Object(u["a"])(Tn,wn,On,!1,null,null,null)),Nn=Cn.exports,An=(n("4d63"),n("13d5"),/[.*+\-?^${}()|[\]\\]/g);function Dn(e){return e.replace(An,"\\$&")}var jn=function(){function e(t,n){var a=this;Object(y["a"])(this,e),this.options={anyMatches:!1,caseInsensitive:!0,separateWords:!0,withScore:!1},n&&Object.assign(this.options,n);var r=[];if(this.options.separateWords){var i=[];t.split(/\s+|[-+,.]/g).forEach((function(e){e&&i.push(e)})),this.options.anyMatches?r.push(i):r=i.map((function(e){return[e]}))}else r=[[t]];this.searchRegex=r.map((function(e){var t=e.map((function(e){return"(".concat(Dn(e),")")})).join("|");return t="".concat(t,"(?:.*?(?:").concat(t,"))*"),new RegExp(t,a.options.caseInsensitive?"i":"")}))}return Object(v["a"])(e,[{key:"match",value:function(e){var t=this;return this.searchRegex.map((function(t){return t.exec(e)})).map((function(e){var n=0;return e&&t.options.withScore&&(n=e.reduce((function(e,t){return e+(t?1:0)}),0)),{matches:!!e,score:n}})).reduce((function(e,t){return{matches:e.matches&&t.matches,score:e.score+t.score}}),{matches:!0,score:0})}}]),e}(),qn=i["a"].extend({name:"PatientStammdaten",props:["form","showStay","showDeath","patient"],created:function(){var e=this;N.getHealthInsuranceCompaniesUsingGet().then((function(t){return e.availableInsuranceCompanies=t})),this.patient&&(this.patientInput=this.patient,this.initialDateOfBirth=pt()(this.patientInput.dateOfBirth),this.patientInput.dateOfDeath&&(this.initialDateOfDeath=pt()(this.patientInput.dateOfDeath)),this.initialRiskOccupation=this.patientInput.riskOccupation||"NO_RISK_OCCUPATION",this.disableOccupation=!1)},data:function(){var e={preDefined:[],userDefined:[]};return{disableOccupation:!0,riskOccupations:cn,showDateOfDeath:!1,patientInput:{patientStatus:"REGISTERED"},initialDateOfBirth:void 0,initialDateOfDeath:void 0,initialRiskOccupation:void 0,insuranceCompanies:e,availableInsuranceCompanies:e}},components:{DateInput:_n,LocationFormGroup:Nn},methods:{riskOccupationSelected:function(e){var t;if(this.disableOccupation="NO_RISK_OCCUPATION"!==e,this.disableOccupation){var n;t=(null===(n=this.riskOccupations.find((function(t){return t.value===e})))||void 0===n?void 0:n.label)||""}else{var a=this.$refs.occupation.$el;setTimeout((function(){a.focus()}),0)}this.form.setFieldsValue({occupation:t})},genderSelected:function(e){var t=e.target.value;this.$emit("gender",t)},diedChanged:function(e){this.showDateOfDeath=e.target.value},searchInsuranceCompanies:function(e){var t=new jn(e,{withScore:!0}),n=[this.availableInsuranceCompanies.preDefined,this.availableInsuranceCompanies.userDefined].map((function(e){return e.map((function(e){return[e,t.match(e)]})).filter((function(e){var t=Object(un["a"])(e,2),n=(t[0],t[1]);return n.matches})).map((function(e){var t=Object(un["a"])(e,2),n=t[0],a=t[1];return a.score/=n.split(/\s+/g).length,[n,a]})).sort((function(e,t){return-1*(e[1].score-t[1].score)})).map((function(e){var t=Object(un["a"])(e,2),n=t[0];t[1];return n}))})),a=Object(un["a"])(n,2),r=a[0],i=a[1];this.insuranceCompanies={preDefined:r,userDefined:i}}}}),Rn=qn,Un=Object(u["a"])(Rn,sn,on,!1,null,"b4fefc90",null),Fn=Un.exports,zn=i["a"].extend({name:"ChangePatientStammdatenForm",props:["visible","patient"],components:{PatientStammdaten:Fn},data:function(){return{form:this.$form.createForm(this,{name:"patient"})}},methods:Object(f["a"])(Object(f["a"])({},_t.mapMutations({setPatient:"setPatient"})),{},{save:function(){var e=this;this.form.validateFields((function(t,n){t?console.warn(t):(n.dateOfBirth=n.dateOfBirth.format("YYYY-MM-DD"),n.dateOfDeath&&(n.dateOfDeath=n.dateOfDeath.format("YYYY-MM-DD")),n=Object(f["a"])(Object(f["a"])({},e.patient),n),N.updatePatientUsingPut(n).then((function(t){e.setPatient(t),e.$notification.success({message:"Patient erfolgreich aktualisiert",description:""}),e.form.resetFields(),e.$emit("create")})).catch((function(t){e.$notification.error({message:"Patient konnte nicht aktualisiert werden.",description:t.message})})))}))}})}),Bn=zn,Ln=Object(u["a"])(Bn,an,rn,!1,null,"12e3186c",null),Vn=Ln.exports,Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-exposure-contact"},[n("a-form-item",{staticStyle:{display:"none"},attrs:{selfUpdate:!0}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("id")],expression:"[formFieldName('id')]"}],attrs:{type:"hidden"}})],1),n("a-row",{style:"display: "+(e.showOriginatorPatient?"unset":"none")},[n("a-form-item",{staticClass:"patient-input",attrs:{selfUpdate:!0,label:"Ursprungspatient"}},[n("patient-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("source"),{rules:[{required:!0,message:"Bitte Ursprungspatienten angeben"}],initialValue:void 0}],expression:"[\n          formFieldName('source'),\n          {\n            rules: [\n              { required: true, message: 'Bitte Ursprungspatienten angeben' },\n            ],\n            initialValue: undefined,\n          },\n        ]"}],attrs:{disabled:e.$props.disableOriginatorPatient,filterOption:e.filterSources}},"patient-input",e.inputProps.source,!1))],1),n("a-divider")],1),n("h4",[e._v("Kontaktperson")]),n("a-form-item",{staticStyle:{display:"none"},attrs:{selfUpdate:!0}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("contact")],expression:"[formFieldName('contact')]"}],attrs:{type:"hidden"}})],1),n("transition",{attrs:{name:"fading",mode:"out-in"}},[e.contact?n("div",{key:"selected-contact",staticStyle:{"margin-bottom":"20px"}},[n("a-card",{attrs:{title:e.contact.lastName+", "+e.contact.firstName,size:"small"}},[e.lockContactEditing?e._e():n("a-button",{attrs:{slot:"extra",ghost:"",size:"small",type:"primary"},on:{click:function(t){return e.removeProposition()}},slot:"extra"},[e._v("manuell eingeben")]),e.lockContactEditing?n("a-button",{attrs:{slot:"extra",size:"small",type:"link"},on:{click:function(t){return e.showPatient(e.contact.id)}},slot:"extra"},[e._v("Patient bearbeiten")]):e._e(),n("a-descriptions",{attrs:{layout:"horizontal",column:1,size:"small"}},[n("a-descriptions-item",{attrs:{label:"Geburtsdatum"}},[e._v(" "+e._s(e.moment(e.contact.dateOfBirth).format("DD.MM.YYYY"))+" ")]),n("a-descriptions-item",{attrs:{label:"Adresse"}},[e._v(" "+e._s(e.contact.street)+" "+e._s(e.contact.houseNumber)+", "+e._s(e.contact.zip)+" "+e._s(e.contact.city)+" ")])],1)],1)],1):n("div",{key:"manual-contact"},[n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Nachname",selfUpdate:!0}},[n("a-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("contactLastName"),{rules:[],initialValue:void 0}],expression:"[\n                formFieldName('contactLastName'),\n                {\n                  rules: [],\n                  initialValue: undefined,\n                },\n              ]"}],on:{keyup:e.fetchPropositions}},"a-input",e.inputProps.contactLastName,!1))],1)],1),n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Vorname",selfUpdate:!0}},[n("a-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("contactFirstName"),{rules:[],initialValue:void 0}],expression:"[\n                formFieldName('contactFirstName'),\n                {\n                  rules: [],\n                  initialValue: undefined,\n                },\n              ]"}],on:{keyup:e.fetchPropositions}},"a-input",e.inputProps.contactFirstName,!1))],1)],1),n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Geburtsdatum",selfUpdate:!0}},[n("date-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("contactDateOfBirth"),{rules:[]}],expression:"[\n                formFieldName('contactDateOfBirth'),\n                {\n                  rules: [],\n                },\n              ]"}],attrs:{disabledDate:function(t){return t.isAfter(e.moment())}},on:{change:e.fetchPropositions}},"date-input",e.inputProps.dateOfContact,!1))],1)],1),n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Mediz. Geschlecht"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("contactGender"),{rules:[{required:!0,message:"Bitte Geschlecht eingeben"}],initialValue:void 0}],expression:"[\n                formFieldName('contactGender'),\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Bitte Geschlecht eingeben',\n                    },\n                  ],\n                  initialValue: undefined,\n                },\n              ]"}],attrs:{buttonStyle:"solid",selfUpdate:!0}},[n("a-radio",{attrs:{value:"male"}},[e._v("Männlich")]),n("a-radio",{attrs:{value:"female"}},[e._v("Weiblich")]),n("a-radio",{attrs:{value:"divers"}},[e._v("Divers")])],1)],1)],1)],1),n("transition",{attrs:{name:"fading"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.patientPropositions.length>0,expression:"patientPropositions.length > 0"}]},[n("h4",[e._v("Vorschläge")]),n("a-list",{attrs:{grid:{gutter:16,column:1},"data-source":e.patientPropositions,itemLayout:"horizontal"},scopedSlots:e._u([{key:"renderItem",fn:function(t){return n("a-list-item",{staticClass:"proposition-card"},[n("a-card",{key:t.id,attrs:{title:t.lastName+", "+t.firstName,size:"small"}},[n("a-button",{attrs:{slot:"extra",ghost:"",size:"small",type:"primary",block:""},on:{click:function(n){return e.useProposition(t)}},slot:"extra"},[e._v("verwenden")]),n("a-descriptions",{attrs:{layout:"horizontal",column:1,size:"small"}},[n("a-descriptions-item",{attrs:{label:"Geburtsdatum"}},[e._v(" "+e._s(e.moment(t.dateOfBirth).format("DD.MM.YYYY"))+" ")]),n("a-descriptions-item",{attrs:{label:"Adresse"}},[e._v(" "+e._s(t.street)+" "+e._s(t.houseNumber)+", "+e._s(t.zip)+" "+e._s(t.city)+" ")])],1)],1)],1)}}],null,!1,1042120466)})],1)]),n("a-divider")],1)]),n("h4",[e._v("Kontaktdetails")]),n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{md:11,sm:24}},[n("a-form-item",{attrs:{label:"Datum des Kontakts",selfUpdate:!0}},[n("date-input",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("dateOfContact"),{rules:[{required:!0,message:"Bitte ein gültiges Datum angeben"}],initialValue:void 0}],expression:"[\n            formFieldName('dateOfContact'),\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte ein gültiges Datum angeben',\n                },\n              ],\n              initialValue: undefined,\n            },\n          ]"}],attrs:{disabledDate:function(t){return t.isAfter(e.moment())}}},"date-input",e.inputProps.dateOfContact,!1))],1)],1),n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Umgebung / Kontext",selfUpdate:!0}},[n("a-auto-complete",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("context"),{rules:[{required:!0,message:"Bitte den Umstand des Kontakts angeben"}],initialValue:void 0}],expression:"[\n            formFieldName('context'),\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte den Umstand des Kontakts angeben',\n                },\n              ],\n              initialValue: undefined,\n            },\n          ]"}],attrs:{dataSource:e.contexts,filterOption:!1}},"a-auto-complete",e.inputProps.context,!1))],1)],1)],1),n("a-row",[n("a-form-item",{attrs:{label:"Sonstiges / Kommentar",selfUpdate:!0}},[n("a-textarea",e._b({directives:[{name:"decorator",rawName:"v-decorator",value:[e.formFieldName("comment"),{rules:[],initialValue:void 0}],expression:"[\n          formFieldName('comment'),\n          {\n            rules: [],\n            initialValue: undefined,\n          },\n        ]"}]},"a-textarea",e.inputProps.comment,!1))],1)],1)],1)},$n=[],Mn=(n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-select",e._g(e._b({ref:"input",attrs:{defaultActiveFirstOption:!1,placeholder:e.placeholder,showSearch:!0,showArrow:!1,filterOption:e.filterOption,value:e.value},on:{search:e.handleSearch}},"a-select",e.$attrs,!1),e.externListeners),e._l(e.result,(function(t){return n("a-select-option",{key:t.value},[e._v(" "+e._s(t.label)+" ")])})),1)}),Yn=[],Hn=(n("841c"),Object(mn["a"])(bn).extend({name:"PatientInput",inheritAttrs:!1,props:{placeholder:{default:"Suche über ID, Name, Telefon, Mail"},value:{default:""},filterOption:{default:!1}},model:{prop:"value",event:"change"},fieldValueConvert:function(e){var t=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};if("object"===Object(x["a"])(e)&&t(e,"id")){var n=e;return this.result=[{label:this.getPatientLabel(n),value:n.id}],n.id||""}return e},inject:{FormContext:{default:function(){return{}}}},data:function(){return{result:[]}},computed:{externListeners:function(){var e=this.$listeners,t=(e.search,Object(S["a"])(e,["search"]));return t}},methods:{getPatientLabel:function(e){return"".concat(e.firstName," ").concat(e.lastName," (").concat(e.id,")")},handleSearch:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&!(e.length<2)){n.next=4;break}a=[],n.next=7;break;case 4:return n.next=6,N.queryPatientsSimpleUsingPost({query:e,offsetPage:0,pageSize:10,order:"asc",orderBy:"lastName"});case 6:a=n.sent;case 7:t.result=a.map((function(e){return{label:t.getPatientLabel(e),value:e.id}}));case 8:case"end":return n.stop()}}),n)})))()}}})),Qn=Hn,Kn=Object(u["a"])(Qn,Mn,Yn,!1,null,"1cd1892b",null),Jn=Kn.exports,Zn=["Haushaltskontakt","Berufskontakt","Kontakt in Gemeinschaftseinrichtung"],Wn=Object(mn["a"])(gn).extend({name:"EditExposureFormGroup",components:{DateInput:_n,PatientInput:Jn},fieldIdentifiers:["id","source","contact","contactFirstName","contactLastName","contactDateOfBirth","contactGender","dateOfContact","context","comment"],props:{showOriginatorPatient:{default:!0},disableOriginatorPatient:{default:!1},contactPatient:{type:Object,default:null}},data:function(){return{contexts:Zn,patientPropositions:[],contact:void 0,lockContactEditing:!1}},watch:{contact:function(e){e&&this.setData({contact:e.id})},contactPatient:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null===e||void 0===e||!e.id){n.next=7;break}return n.next=3,N.getPatientForIdUsingGet(e.id);case 3:t.contact=n.sent,t.lockContactEditing=!0,n.next=10;break;case 7:t.contact=void 0,t.patientPropositions=[],t.lockContactEditing=!1;case 10:case"end":return n.stop()}}),n)})))()}},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===(n=e.contactPatient)||void 0===n||!n.id){t.next=5;break}return t.next=3,N.getPatientForIdUsingGet(e.contactPatient.id);case 3:e.contact=t.sent,e.lockContactEditing=!0;case 5:case"end":return t.stop()}}),t)})))()},methods:{withExts:function(){return hn(this,pn())},moment:pt.a,filterContacts:function(e,t){return t.key!==this.withExts().getSingleValue("source")},filterSources:function(e,t){return t.key!==this.withExts().getSingleValue("contact")},fetchPropositions:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=[e.getSingleValue("contactFirstName"),e.getSingleValue("contactLastName")].filter((function(e){return e})).join(" ").trim(),n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,N.queryPatientsSimpleUsingPost({query:n,order:"asc",orderBy:"lastName"});case 5:a=t.sent,e.patientPropositions=a.slice(0,3);case 7:case"end":return t.stop()}}),t)})))()},useProposition:function(e){this.contact=e},removeProposition:function(){this.contact=void 0,this.withExts().setData({contact:void 0}),this.patientPropositions=[]},showPatient:function(e){this.$emit("showPatient",e)}}}),Xn=Wn,ea=(n("b22f"),Object(u["a"])(Xn,Gn,$n,!1,null,"3bcb4587",null)),ta=ea.exports;function na(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],a=e[1],r=t[n];return r&&("function"===typeof r&&(r={transform:r}),Object.prototype.hasOwnProperty.call(r,"transform")&&(a=r.transform(a)),e=[n,a]),e})))}var aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"Falldaten ändern",okText:"Speichern",cancelText:"Abbrechen",width:"1000px"},on:{cancel:function(){e.$emit("cancel")},ok:e.save}},[n("a-form",{attrs:{form:e.form,layout:"vertical",wrapperCol:{span:24}}},[n("IllnessStatusForm",{attrs:{form:e.form,patient:e.patient}}),n("a-divider"),n("h4",[e._v("Symptome")]),n("SymptomsForm",{attrs:{form:e.form,patient:e.patient}}),n("a-divider"),n("h4",[e._v("Vorerkrankungen und Risikofaktoren")]),n("PreIllnessesForm",{attrs:{form:e.form,patient:e.patient}}),n("a-divider"),n("h4",[e._v("Exposition")]),n("ExposureForm",{attrs:{form:e.form,patient:e.patient}})],1)],1)},ra=[],ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{wrapperCol:{div:24}}},[n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptoms",{initialValue:e.symptoms}],expression:"['symptoms', { initialValue: symptoms }]"}],on:{change:e.symptomsChanged}},[n("a-row",e._l(e.SYMPTOMS,(function(t){return n("a-col",{key:t.value,attrs:{span:"LOSS_OF_SENSE_OF_SMELL_TASTE"===t.value?12:6}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),1)],1),n("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[n("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["showOtherSymptoms",{initialValue:e.showOtherSymptoms}],expression:"[\n          'showOtherSymptoms',\n          { initialValue: showOtherSymptoms },\n        ]"}],staticStyle:{flex:"0 0 auto"},on:{change:e.showOtherSymptomsChanged},model:{value:e.showOtherSymptoms,callback:function(t){e.showOtherSymptoms=t},expression:"showOtherSymptoms"}},[e._v(" Andere: ")]),n("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0","max-width":"600px"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptomsOther",{initialValue:e.symptomsOther}],expression:"['symptomsOther', { initialValue: symptomsOther }]"}],attrs:{disabled:!e.showOtherSymptoms}})],1)],1)],1),n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{labelCol:{div:24},wrapperCol:{div:24},label:"Wie schnell sind die Beschwerden aufgetreten?"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["speedOfSymptomsOutbreak"],expression:"['speedOfSymptomsOutbreak']"}],attrs:{disabled:!e.showSpeedOfSymptoms}},[n("a-radio",{attrs:{value:"suddenly"}},[e._v(" Plötzlich, innerhalb von einem Tag ")]),n("a-radio",{attrs:{value:"slow"}},[e._v(" Langsam, innerhalb von mehreren Tagen ")]),n("a-radio",{attrs:{value:"unknown"}},[e._v(" Nicht bekannt ")])],1)],1)],1)},sa=[],oa=n("b85c"),ua=i["a"].extend({name:"SymptomsForm",props:["form","patient"],created:function(){var e=this;if(this.patient){var t,n=Object(oa["a"])(this.patient.symptoms);try{var a=function(){var n=t.value;n&&(kt.some((function(e){return e.value===n}))?e.symptoms.push(n):(e.showOtherSymptoms=!0,e.symptomsOther=n))};for(n.s();!(t=n.n()).done;)a()}catch(r){n.e(r)}finally{n.f()}}},data:function(){return{SYMPTOMS:kt,symptoms:[],symptomsOther:"",showOtherSymptoms:!1,showSpeedOfSymptoms:!1}},methods:{symptomsChanged:function(e){this.updateSymptomsForm(e,this.form.getFieldValue("showOtherSymptoms"))},showOtherSymptomsChanged:function(){this.updateSymptomsForm(this.form.getFieldValue("symptoms"),this.showOtherSymptoms)},updateSymptomsForm:function(e,t){e&&e.length>0||t?this.showSpeedOfSymptoms=!0:(this.showSpeedOfSymptoms=!1,this.form.setFieldsValue({speedOfSymptomsOutbreak:void 0}))}}}),ca=ua,la=Object(u["a"])(ca,ia,sa,!1,null,"4fdde97e",null),da=la.exports,ma=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{wrapperCol:{div:24}}},[n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnesses",{initialValue:e.preIllnesses}],expression:"['preIllnesses', { initialValue: preIllnesses }]"}]},[n("a-row",[e._l(e.PRE_ILLNESSES,(function(t){return n("a-col",{key:t.value,attrs:{span:8}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),e._l(e.ADDITIONAL_PRE_ILLNESSES,(function(t){return n("a-col",{key:t.value,attrs:{span:12}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)}))],2)],1),n("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[n("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["showOtherPreIllnesses",{initialValue:e.showOtherPreIllnesses}],expression:"[\n        'showOtherPreIllnesses',\n        { initialValue: showOtherPreIllnesses },\n      ]"}],staticStyle:{flex:"0 0 auto"},model:{value:e.showOtherPreIllnesses,callback:function(t){e.showOtherPreIllnesses=t},expression:"showOtherPreIllnesses"}},[e._v(" Andere: ")]),n("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0","max-width":"600px"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnessesOther",{initialValue:e.preIllnessesOther}],expression:"[\n          'preIllnessesOther',\n          { initialValue: preIllnessesOther },\n        ]"}],attrs:{disabled:!e.showOtherPreIllnesses}})],1)],1)],1)},pa=[],fa=i["a"].extend({name:"PreIllnessesForm",props:["form","patient"],created:function(){var e=this;if(this.patient){var t,n=[].concat(Object(Nt["a"])(Pt),Object(Nt["a"])(It)),a=Object(oa["a"])(this.patient.preIllnesses);try{var r=function(){var a=t.value;a&&(n.some((function(e){return e.value===a}))?e.preIllnesses.push(a):(e.showOtherPreIllnesses=!0,e.preIllnessesOther=a))};for(a.s();!(t=a.n()).done;)r()}catch(i){a.e(i)}finally{a.f()}}},data:function(){return{PRE_ILLNESSES:Pt,ADDITIONAL_PRE_ILLNESSES:It,preIllnesses:[],preIllnessesOther:"",showOtherPreIllnesses:!1}}}),ha=fa,va=Object(u["a"])(ha,ma,pa,!1,null,"04add60e",null),ga=va.exports,ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{attrs:{wrapperCol:{div:24}}},[n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposures",{initialValue:e.exposures}],expression:"['exposures', { initialValue: exposures }]"}],model:{value:e.exposures,callback:function(t){e.exposures=t},expression:"exposures"}},[n("a-row",e._l(e.EXPOSURES_INTERNAL,(function(t){return n("a-col",{key:t.value,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),1)],1),n("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposureLocation",{initialValue:e.exposureLocations}],expression:"['exposureLocation', { initialValue: exposureLocations }]"}],staticStyle:{"padding-left":"30px"},attrs:{disabled:e.disableExposureLocation}},[n("a-row",e._l(e.EXPOSURE_LOCATIONS,(function(t){return n("a-col",{key:t.value,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])],1)})),1)],1)],1)},ya=[],xa=(n("2ca0"),{label:"Medizinischer Heilberuf",value:"MEDICAL_HEALTH_PROFESSION"}),Sa={label:"Arbeit in medizinischem Labor",value:"MEDICAL_LABORATORY"},_a={label:"Aufenthalt in medizinischer Einrichtung in den letzten 14 Tagen vor der Erkrankung",value:"STAY_IN_MEDICAL_FACILITY"},wa={label:"Enger Kontakt mit wahrscheinlichem oder bestätigtem Fall in den letzten 14 Tagen vor der Erkrankung",value:"CONTACT_WITH_CORONA_CASE"},Oa={label:"Arbeit in Gemeinschaftseinrichtung (z.B. Schule, Kinderkrippe, Heim, sonst. Massenunterkünfte (§§34 und 36 Abs. 1 IfSG))",value:"COMMUNITY_FACILITY"},ka={label:"Betreuung in Gemeinschaftseinrichtung für Kinder oder Jugendliche, z.B.Schule, Kinderkrippe (§33 IfSG)",value:"COMMUNITY_FACILITY_MINORS"},Ia=[xa,Sa,_a,Oa,ka,wa],Pa=[xa,Sa,_a,wa],Ea=[{label:"in einer medizinischen Einrichtung",value:"MEDICAL_FACILITY"},{label:"im privaten Haushalt",value:"PRIVATE"},{label:"am Arbeitsplatz",value:"WORK"},{label:"andere / sonstige",value:"OTHER"}],Ta=i["a"].extend({name:"ExposureForm",props:["form","patient"],created:function(){var e=this;if(this.patient){var t="CONTACT_WITH_CORONA";this.patient.riskAreas.forEach((function(n){var a=Ia.find((function(e){return e.value===n}));a?e.exposures.push(a.value):n.startsWith(t)&&(a=Ea.find((function(e){return t+"_"+e.value===n})),a&&e.exposureLocations.push(a.value))}))}},computed:{disableExposureLocation:function(){return!this.exposures.includes("CONTACT_WITH_CORONA_CASE")}},data:function(){return{EXPOSURES_INTERNAL:Ia,EXPOSURE_LOCATIONS:Ea,exposures:[],exposureLocations:[]}}}),Ca=Ta,Na=Object(u["a"])(Ca,ba,ya,!1,null,"7faee33f",null),Aa=Na.exports,Da=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("Erkrankung")]),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Art der Erkrankung"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["illnessType",{rules:[{required:!0,message:"Bitte Erkrankung wählen"}],initialValue:"CORONA"}],expression:"[\n            'illnessType',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Erkrankung wählen',\n                },\n              ],\n              initialValue: 'CORONA',\n            },\n          ]"}],attrs:{placeholder:"Bitte wählen..."}},[n("a-select-option",{attrs:{value:"CORONA"}},[e._v("COVID-19")])],1)],1)],1),n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Fallstatus"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["patientStatus",{rules:[{required:!0,message:"Bitte Status wählen"}],initialValue:e.patient?e.patient.patientStatus:"SUSPECTED"}],expression:"[\n            'patientStatus',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Status wählen',\n                },\n              ],\n              initialValue: patient ? patient.patientStatus : 'SUSPECTED',\n            },\n          ]"}],staticStyle:{width:"250px"},attrs:{placeholder:"Status"}},e._l(e.EVENT_TYPES,(function(t){return n("a-select-option",{key:t.id},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:t.icon}}),e._v(" "+e._s(t.label)+" ")],1)})),1)],1)],1)],1),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Erkrankungsdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfIllness",{rules:[{required:!0,message:"Bitte Erkrankungsdatum wählen"}],initialValue:e.initialDateOfIllness}],expression:"[\n            'dateOfIllness',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Erkrankungsdatum wählen',\n                },\n              ],\n              initialValue: initialDateOfIllness,\n            },\n          ]"}]})],1)],1),n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Meldedatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfReporting",{rules:[{required:!0,message:"Bitte Meldedatum wählen"}],initialValue:e.initialDateOfReporting}],expression:"[\n            'dateOfReporting',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte Meldedatum wählen',\n                },\n              ],\n              initialValue: initialDateOfReporting,\n            },\n          ]"}]})],1)],1)],1),n("a-divider"),n("h4",[e._v("Hospitalisierung")]),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:12}},[n("a-form-item",[n("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["patientHospitalized"],expression:"['patientHospitalized']"}],model:{value:e.patientHospitalized,callback:function(t){e.patientHospitalized=t},expression:"patientHospitalized"}},[e._v(" Patient/in ist hospitalisiert ")])],1)],1),n("a-col",{attrs:{md:12}},[n("a-form-item",{attrs:{label:"Datum der Hospitalisierung"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateOfHospitalization",{rules:[{required:e.patientHospitalized,message:"Bitte Datum wählen"}],initialValue:e.initialDateOfHospitalization}],expression:"[\n            'dateOfHospitalization',\n            {\n              rules: [\n                {\n                  required: patientHospitalized,\n                  message: 'Bitte Datum wählen',\n                },\n              ],\n              initialValue: initialDateOfHospitalization,\n            },\n          ]"}],staticStyle:{flex:"0 1 400px"},attrs:{disabled:!e.patientHospitalized,label:"Seit"}})],1),n("a-form-item",[n("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["onIntensiveCareUnit"],expression:"['onIntensiveCareUnit']"}],model:{value:e.onIntensiveCareUnit,callback:function(t){e.onIntensiveCareUnit=t},expression:"onIntensiveCareUnit"}},[e._v(" Auf der Intensivstation ")])],1)],1)],1)],1)},ja=[],qa=i["a"].extend({name:"IllnessStatusForm",props:["form","patient"],components:{DateInput:_n},watch:{patient:{immediate:!0,handler:function(e,t){this.patientHospitalized=!(!e||!e.dateOfHospitalization),this.onIntensiveCareUnit=e&&e.onIntensiveCareUnit}}},computed:{initialDateOfHospitalization:function(){return this.patient&&this.patient.dateOfHospitalization?pt()(this.patient.dateOfHospitalization):pt()()},initialDateOfIllness:function(){return this.patient&&this.patient.dateOfIllness?pt()(this.patient.dateOfIllness):pt()()},initialDateOfReporting:function(){return this.patient&&this.patient.dateOfReporting?pt()(this.patient.dateOfReporting):pt()()}},data:function(){return{today:pt()(),EVENT_TYPES:wt,patientHospitalized:!1,onIntensiveCareUnit:!1}},methods:{}}),Ra=qa,Ua=Object(u["a"])(Ra,Da,ja,!1,null,"0126990f",null),Fa=Ua.exports,za=i["a"].extend({name:"ChangePatientFalldatenForm",props:["visible","patient"],components:{SymptomsForm:da,PreIllnessesForm:ga,ExposureForm:Aa,IllnessStatusForm:Fa},data:function(){return{form:this.$form.createForm(this,{name:"patient"})}},methods:Object(f["a"])(Object(f["a"])({},_t.mapMutations({setPatient:"setPatient"})),{},{save:function(){var e=this;this.form.validateFields((function(t,n){t?console.warn(t):(n=Object(f["a"])(Object(f["a"])({},e.patient),n),n.dateOfIllness=(n.dateOfIllness||pt()()).format("YYYY-MM-DD"),n.dateOfReporting=(n.dateOfReporting||pt()()).format("YYYY-MM-DD"),n.patientHospitalized?n.dateOfHospitalization=n.dateOfHospitalization.format("YYYY-MM-DD"):(n.dateOfHospitalization=null,n.onIntensiveCareUnit=null),n.symptoms||(n.symptoms=[]),n.showOtherSymptoms&&n.symptomsOther&&n.symptoms.push(n.symptomsOther),n.preIllnesses||(n.preIllnesses=[]),n.showOtherPreIllnesses&&n.preIllnessesOther&&n.preIllnesses.push(n.preIllnessesOther),n.exposures?n.riskAreas=n.exposures:n.riskAreas=[],n.exposureLocation&&(n.riskAreas=n.riskAreas.concat(n.exposureLocation.map((function(e){return"CONTACT_WITH_CORONA_"+e})))),N.updatePatientUsingPut(n).then((function(t){e.setPatient(t),e.$notification.success({message:"Falldaten erfolgreich aktualisiert",description:""}),e.form.resetFields(),e.$emit("create"),e.$forceUpdate()})).catch((function(t){e.$notification.error({message:"Falldaten konnten nicht aktualisiert werden.",description:t.message})})))}))}})}),Ba=za,La=Object(u["a"])(Ba,aa,ra,!1,null,"3fd3f3f4",null),Va=La.exports,Ga=[{key:"gotoPatient",width:"40pt",align:"center",scopedSlots:{customRender:"gotoPatient"}},{title:"Nachname",key:"lastName",dataIndex:"contact.lastName"},{title:"Vorname",key:"firstName",dataIndex:"contact.firstName"},{title:"Datum des Kontakts",key:"dateOfContact",scopedSlots:{customRender:"dateOfContact"}},{title:"Kontaktart",key:"context",dataIndex:"context"},{title:"Infektionsstatus",key:"infected",scopedSlots:{customRender:"infectionState"}},{title:"Quarantänestatus",key:"quarantine",scopedSlots:{customRender:"quarantineState"}},{title:"Aktionen",key:"actions",width:"120pt",align:"center",scopedSlots:{customRender:"actions"}}],$a=[{title:"Name",key:"name",scopedSlots:{customRender:"name"}},{title:"Kontaktdatum",key:"dateOfContact",scopedSlots:{customRender:"dateOfContact"}},{title:"Kontaktart",key:"context",dataIndex:"context"}],Ma=i["a"].extend({name:"PatientDetails",components:{ChangePatientStammdatenForm:Vn,ChangePatientFalldatenForm:Va,EditExposureContact:ta,CaseData:Jt,History:nn},computed:Object(f["a"])(Object(f["a"])({},B.mapGetters({myRoles:"roles"})),_t.mapGetters({patientById:"patientById"})),created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadData(),e.exposureContactForm=e.$form.createForm(e.$refs.exposureContactModal,{name:"exposure-contact"});case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{permissions:{sendToQuarantine:!1},dateFormat:"DD.MM.YYYY",patient:void 0,patientInfectionSources:[],exposureContacts:[],exposureContactsLoading:!1,exposureContactForm:void 0,exposureContactInEditing:null,patientStatus:void 0,eventTypes:wt,testResults:Ot,testTypes:Et,symptoms:[],exposures:[],showChangePatientStammdatenForm:!1,showChangePatientFalldatenForm:!1,preIllnesses:[],dateOfBirth:"",dateOfDeath:"",dateOfHospitalization:"",gender:"",country:"",stayCountry:"",columnsExposureContacts:Ga,columnsIndexPatients:$a,dateOfReporting:"",dateOfIllness:"",incidents:void 0}},watch:{"$route.params.id":function(){this.loadData()}},methods:Object(f["a"])(Object(f["a"])({},_t.mapMutations({setPatient:"setPatient"})),{},{loadData:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o,u,c,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.exposureContactsLoading=!0,t.prev=1,t.next=4,ht({sendToQuarantine:N.sendToQuarantineUsingPost});case 4:e.permissions=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:if(i=e.$route.params.id,e.patient=e.patientById(e.$route.params.id),e.patient){t.next=18;break}return t.next=15,N.getPatientForIdUsingGet(i);case 15:s=t.sent,e.setPatient(s),e.patient=s;case 18:if(o=e.patient,!o){t.next=25;break}return t.next=22,In();case 22:l=t.sent,e.country=(null===(u=l.find((function(e){return e.code===o.country})))||void 0===u?void 0:u.name)||"Unbekannt",e.stayCountry=(null===(c=l.find((function(e){return e.code===o.stayCountry})))||void 0===c?void 0:c.name)||"Unbekannt";case 25:return t.next=27,N.getPatientLogUsingGet(i);case 27:return e.incidents=t.sent,e.patient.dateOfIllness?e.dateOfIllness=pt()(e.patient.dateOfIllness).format(e.dateFormat):e.dateOfIllness=e.dateOfReporting,e.patient.dateOfHospitalization&&(e.dateOfHospitalization=pt()(e.patient.dateOfHospitalization).format(e.dateFormat)),e.patientStatus=wt.find((function(t){var n;return t.id===(null===(n=e.patient)||void 0===n?void 0:n.patientStatus)})),e.symptoms=(null===(n=e.patient.symptoms)||void 0===n?void 0:n.map((function(e){var t=kt.find((function(t){return t.value===e}));return t?t.label:e})))||[],e.exposures=(null===(a=e.patient.riskAreas)||void 0===a?void 0:a.map((function(e){var t=Ia.find((function(t){return t.value===e}));return t||(t=Ea.find((function(t){return"CONTACT_WITH_CORONA_"+t.value===e}))),t?t.label:e})))||[],e.preIllnesses=(null===(r=e.patient.preIllnesses)||void 0===r?void 0:r.map((function(e){var t=Pt.find((function(t){return t.value===e}));return t?t.label:e})))||[],e.dateOfBirth=pt()(e.patient.dateOfBirth).format(e.dateFormat),e.dateOfDeath=e.patient.dateOfDeath?pt()(e.patient.dateOfDeath).format(e.dateFormat):"-",d=e.patient.gender||"",e.gender="male"===d?"männlich":"female"===d?"weiblich":"divers",t.prev=38,t.next=41,N.getExposureSourceContactsForPatientUsingGet(i);case 41:e.patientInfectionSources=t.sent,t.next=47;break;case 44:t.prev=44,t.t1=t["catch"](38),e.patientInfectionSources=[];case 47:return t.next=49,N.getExposureContactsForPatientUsingGet(i);case 49:e.exposureContacts=t.sent,e.exposureContactsLoading=!1;case 51:case"end":return t.stop()}}),t,null,[[1,7],[38,44]])})))()},formatTimestamp:function(e){var t=pt()(e);return t.isValid()?pt()(e).format("DD.MM.YYYY HH:mm"):"Unbekannt"},editPatientStammdaten:function(){this.showChangePatientStammdatenForm=!0},editPatientFalldaten:function(){this.showChangePatientFalldatenForm=!0},handleActionClick:function(e){var t,n,a;switch(e.key){case"SEND_TO_QUARANTINE":this.$router.push({name:"request-quarantine",params:{patientId:(null===(t=this.patient)||void 0===t?void 0:t.id)||"",patientFirstName:(null===(n=this.patient)||void 0===n?void 0:n.firstName)||"",patientLastName:(null===(a=this.patient)||void 0===a?void 0:a.lastName)||""}});break;case"ARRANGE_TEST":this.scheduleTest();break}},scheduleTest:function(){var e=this;this.patient&&N.createOrderTestEventUsingPost({patientId:this.patient.id}).then((function(){e.$notification.success({message:"Test angefordert",description:""}),e.loadData()})).catch((function(){e.$notification.error({message:"Es ist ein Fehler aufgetreten",description:""})}))},addExposureContact:function(){var e=this;this.exposureContactInEditing={contact:{id:void 0}},i["a"].nextTick((function(){e.exposureContactForm.resetFields(),e.exposureContactForm.setFieldsValue({source:e.patient})}))},showExposureContact:function(e){var t=this,n=this.exposureContacts.find((function(t){return t.id===e}));this.exposureContactInEditing=n,i["a"].nextTick((function(){t.exposureContactForm.setFieldsValue(na(n,{contact:function(e){return e.id},dateOfContact:pt.a}))}))},persistExposureContact:function(){var e=this,t=function(e){return e.format("YYYY-MM-DD")};this.exposureContactForm.validateFields().then(function(){var n=Object(h["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=na(a,{id:parseInt,dateOfContact:t}),a.contact||(a.contact=JSON.stringify({firstName:a.contactFirstName,lastName:a.contactLastName,gender:a.contactGender,dateOfBirth:a.contactDateOfBirth?t(a.contactDateOfBirth):void 0})),!a.id){n.next=11;break}return n.t0=Object,n.t1=e.exposureContactInEditing,n.next=7,N.updateExposureContactUsingPut(a);case 7:n.t2=n.sent,n.t0.assign.call(n.t0,n.t1,n.t2),n.next=16;break;case 11:return n.t3=e.exposureContacts,n.next=14,N.createExposureContactUsingPost(a);case 14:n.t4=n.sent,n.t3.push.call(n.t3,n.t4);case 16:e.exposureContactInEditing=null;case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},removeExposureContact:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,N.removeExposureContactUsingDelete(e);case 2:t.exposureContacts=t.exposureContacts.filter((function(t){return t.id!==e}));case 3:case"end":return n.stop()}}),n)})))()},showPatient:function(e){this.$refs.exposureContactModal.$emit("cancel"),this.$router.push({name:"patient-detail",params:{id:e}})},moment:pt.a,getDate:function(e){return pt()(e).format(this.dateFormat)}})}),Ya=Ma,Ha=(n("0374"),n("950d"),Object(u["a"])(Ya,lt,dt,!1,null,"70e21ca4",null)),Qa=Ha.exports,Ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-page-header",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{title:"Alle Patienten"}},[n("template",{slot:"extra"},[n("a-button",{on:{click:function(t){return e.$router.push({name:"register-patient"})}}},[e._v(" Patient registrieren ")])],1)],2),n("a-card",{staticClass:"table-container"},[n("a-form",{staticClass:"search-container",attrs:{model:e.form}},[n("a-form-item",{staticStyle:{width:"600px","max-width":"100%"}},[n("a-input",{attrs:{disabled:e.showAdvancedSearch,placeholder:"Suche über ID, Name, Stadt, Email oder Telefon (z.B. 'Max Mustermann Berlin')"},model:{value:e.form.query,callback:function(t){e.$set(e.form,"query",t)},expression:"form.query"}},[n("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1),n("a-button",{on:{click:e.toggleAdvancedSearch}},[n("a-icon",{attrs:{type:e.showAdvancedSearch?"down":"right"}}),e._v(" Erweiterte Suche ")],1),n("a-button",{attrs:{"html-type":"submit",icon:"search",type:"primary"},on:{click:e.handleSearch}},[e._v(" Suche ")])],1),e.showAdvancedSearch?n("a-form",{staticClass:"search-container",attrs:{model:e.advancedForm}},[n("a-form-item",{attrs:{label:"Vorname"}},[n("a-input",{attrs:{placeholder:"Vorname",autocomplete:"no"},model:{value:e.advancedForm.firstName,callback:function(t){e.$set(e.advancedForm,"firstName",t)},expression:"advancedForm.firstName"}},[n("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Nachname"}},[n("a-input",{attrs:{placeholder:"Nachname",autocomplete:"no"},model:{value:e.advancedForm.lastName,callback:function(t){e.$set(e.advancedForm,"lastName",t)},expression:"advancedForm.lastName"}},[n("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"ID"}},[n("a-input",{attrs:{placeholder:"ID",autocomplete:"no"},model:{value:e.advancedForm.id,callback:function(t){e.$set(e.advancedForm,"id",t)},expression:"advancedForm.id"}},[n("a-icon",{attrs:{slot:"prefix",type:"hdd"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Geschlecht"}},[n("a-select",{staticStyle:{width:"120px"},attrs:{placeholder:"Geschlecht"},model:{value:e.advancedForm.gender,callback:function(t){e.$set(e.advancedForm,"gender",t)},expression:"advancedForm.gender"}},[n("a-select-option",{attrs:{value:""}},[e._v("Alle")]),n("a-select-option",{attrs:{value:"female"}},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"woman"}}),e._v(" Weiblich ")],1),n("a-select-option",{attrs:{value:"male"}},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"man"}}),e._v(" Männlich ")],1),n("a-select-option",{attrs:{value:"divers"}},[e._v("Sonstiges")])],1)],1),n("a-form-item",{attrs:{label:"Stadt"}},[n("a-input",{attrs:{placeholder:"Stadt",autocomplete:"no"},model:{value:e.advancedForm.city,callback:function(t){e.$set(e.advancedForm,"city",t)},expression:"advancedForm.city"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Straße"}},[n("a-input",{attrs:{placeholder:"Straße",autocomplete:"no"},model:{value:e.advancedForm.street,callback:function(t){e.$set(e.advancedForm,"street",t)},expression:"advancedForm.street"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{staticStyle:{width:"100px"},attrs:{label:"Hausnummer"}},[n("a-input",{attrs:{placeholder:"Hausnr.",autocomplete:"no"},model:{value:e.advancedForm.houseNumber,callback:function(t){e.$set(e.advancedForm,"houseNumber",t)},expression:"advancedForm.houseNumber"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{staticStyle:{width:"100px"},attrs:{label:"Postleitzahl"}},[n("a-input",{attrs:{placeholder:"PLZ",autocomplete:"no"},model:{value:e.advancedForm.zip,callback:function(t){e.$set(e.advancedForm,"zip",t)},expression:"advancedForm.zip"}},[n("a-icon",{attrs:{slot:"prefix",type:"home"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Versicherung"}},[n("a-input",{attrs:{placeholder:"Versicherung",autocomplete:"no"},model:{value:e.advancedForm.insuranceCompany,callback:function(t){e.$set(e.advancedForm,"insuranceCompany",t)},expression:"advancedForm.insuranceCompany"}},[n("a-icon",{attrs:{slot:"prefix",type:"hdd"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{label:"Quarantänestatus"}},[n("a-select",{staticStyle:{width:"250px"},attrs:{placeholder:"Quarantänestatus"},model:{value:e.quarantineSelection,callback:function(t){e.quarantineSelection=t},expression:"quarantineSelection"}},[n("a-select-option",{attrs:{value:"ALL"}},[e._v("Alle")]),n("a-select-option",{key:"QUARANTINE_MANDATED"},[e._v("Quarantäne angeordnet ")]),n("a-select-option",{key:"QUARANTINE_SELECTED"},[e._v("Quarantäne vorgemerkt ")]),n("a-select-option",{key:"NO_SELECTION"},[e._v("Keine Anordnung ")])],1)],1),n("a-button",{staticStyle:{visibility:"hidden"},attrs:{"html-type":"submit"},on:{click:e.handleSearch}})],1):e._e(),n("a-table",{staticClass:"imis-table-no-pagination",attrs:{columns:e.columnsSchema,customRow:e.customRow,dataSource:e.currentPatients,pagination:{pageSize:500},scroll:{x:0,y:0},rowKey:"id"},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"gender",fn:function(t){return n("div",{},[e._v(" "+e._s("male"===t?"männlich":"female"===t?"weiblich":"divers")+" ")])}},{key:"patientStatus",fn:function(t){return n("div",{},[n("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:e.eventTypes.find((function(e){return e.id===t})).icon}}),e._v(" "+e._s(e.eventTypes.find((function(e){return e.id===t})).label)+" ")],1)}},{key:"operation",fn:function(t,a){return n("div",{staticStyle:{cursor:"pointer"}},[n("a-icon",{staticStyle:{"margin-right":"5px",cursor:"pointer"},attrs:{type:"user"},on:{click:function(){return e.handlePatientClick(a)}}})],1)}},{key:"name",fn:function(t){return n("div",{},[e._v(" "+e._s(t.lastName)+", "+e._s(t.firstName)+" ")])}},{key:"city",fn:function(t){return n("div",{},[e._v(" "+e._s(t.zip)+" "+e._s(t.city)+" ")])}},{key:"age",fn:function(t){return n("div",{},[e._v(" "+e._s(e.moment().diff(e.moment(t),"years"))+" ")])}},{key:"indexpatient",fn:function(e){return n("div",{},[n("index-patient-table-cell",{attrs:{"patient-id":e}})],1)}}])}),n("div",{staticStyle:{display:"flex",width:"100%",margin:"15px 0","justify-content":"flex-end","align-items":"center"}},[n("a-button",{staticStyle:{"margin-right":"50px"},attrs:{type:"primary"},on:{click:e.downloadPatients}},[e._v("CSV exportieren ")]),n("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.count)+" Patienten")]),n("a-pagination",{attrs:{pageSize:e.form.pageSize,total:e.count,showSizeChanger:""},on:{"update:pageSize":function(t){return e.$set(e.form,"pageSize",t)},"update:page-size":function(t){return e.$set(e.form,"pageSize",t)},showSizeChange:e.onShowSizeChange},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)},Ja=[];n("4ec9"),n("3ca3"),n("ddb0"),n("2b3d");function Za(e,t){var n=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.setAttribute("href",URL.createObjectURL(n)),a.setAttribute("download",t||"data.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}var Wa,Xa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.indexPatient?n("router-link",{attrs:{to:{name:"patient-detail",params:{id:e.indexPatient.id}}}},[e._v(" "+e._s(e.indexPatient.lastName)+", "+e._s(e.indexPatient.firstName)+" ")]):n("div",[e._v("-")])],1)},er=[],tr=i["a"].extend({name:"IndexPatientTableCell",props:["patientId"],data:function(){return{indexPatient:void 0}},created:function(){var e=this;N.getExposureSourceContactsForPatientUsingGet(this.patientId).then((function(t){if(t.length>0){var n=t[0].source;n&&(e.indexPatient=n,console.log("Has source: "+e.patientId))}}))},methods:{}}),nr=tr,ar=Object(u["a"])(nr,Xa,er,!1,null,"2e2a6530",null),rr=ar.exports,ir=[{title:"",dataIndex:"operation",scopedSlots:{customRender:["operation"]}},{title:"Name",key:"lastName",scopedSlots:{customRender:["name"]}},{title:"Geschlecht",dataIndex:"gender",key:"gender",scopedSlots:{customRender:"gender"}},{title:"Status",dataIndex:"patientStatus",key:"patientStatus",scopedSlots:{customRender:"patientStatus"},sorter:!0},{title:"Stadt",key:"city",scopedSlots:{customRender:"city"}},{title:"Alter",dataIndex:"dateOfBirth",key:"age",scopedSlots:{customRender:"age"}},{title:"Indexpatient",dataIndex:"id",key:"indexpatient",scopedSlots:{customRender:"indexpatient"}},{title:"ID",dataIndex:"id",key:"id",defaultSortOrder:"ascend"}],sr=i["a"].extend({name:"PatientList",components:{IndexPatientTableCell:rr},data:function(){return{form:{query:"",order:"asc",orderBy:"lastName",offsetPage:0,pageSize:10},advancedForm:{gender:"",city:"",street:"",houseNumber:"",zip:"",insuranceCompany:"",firstName:"",lastName:"",quarantineStatus:void 0,id:""},quarantineSelection:"ALL",content:"",count:10,currentPage:1,columnsSchema:ir,data:[],showAdvancedSearch:!1,eventTypes:wt,currentPatients:[]}},watch:{currentPage:function(){this.loadPage()},"$route.query.query":function(){this.loadAfterUrlChange()}},created:function(){this.indexPatientMap=new Map,this.loadAfterUrlChange()},methods:{loadAfterUrlChange:function(){var e=this.$route.query.query;e&&(this.form.query=e.toString()),this.loadPage()},handleSearch:function(){this.currentPage=1,this.loadPage()},onShowSizeChange:function(e,t){this.currentPage=e,this.advancedForm.pageSize=t,this.loadPage()},loadPage:function(){var e,t,n=this;if(this.form.offsetPage=this.currentPage-1,this.showAdvancedSearch){var a=Object(f["a"])(Object(f["a"])({},this.form),this.advancedForm);a.patientStatus||(a.patientStatus=void 0),a.quarantineStatus=this.getQuarantineSelection(),e=N.countQueryPatientsUsingPost(a),t=N.queryPatientsUsingPost(a)}else{var r=this.form.query;e=N.countQueryPatientsSimpleUsingGet({query:r}),t=N.queryPatientsSimpleUsingPost(Object(f["a"])({},this.form))}e.then((function(e){n.count=e})),t.then((function(e){n.currentPatients=e})).catch((function(e){console.error(e);var t={message:"Fehler beim Laden der Patientendaten.",description:e.message};n.$notification.error(t)}))},toggleAdvancedSearch:function(){this.showAdvancedSearch=!this.showAdvancedSearch},downloadPatients:function(){var e,t,n=this;if(this.form.offsetPage=this.currentPage-1,this.showAdvancedSearch)t=Object(f["a"])(Object(f["a"])({},this.form),this.advancedForm),t.patientStatus||delete t.patientStatus,t.quarantineStatus=this.getQuarantineSelection(),e=N.countQueryPatientsUsingPost(t);else{t=Object(f["a"])({},this.form);var a=this.form.query;e=N.countQueryPatientsSimpleUsingGet({query:a})}e.then((function(e){var a;t.offsetPage=0,t.pageSize=e,a=n.showAdvancedSearch?N.queryPatientsUsingPost(t):N.queryPatientsSimpleUsingPost(t),a.then((function(e){var t="ID;Vorname;Nachname;Geschlecht;Status;Geburtsdatum;E-Mail;Telefonnummer;Straße;Hausnummer;PLZ;Stadt;Versicherung;Versichertennummer",n=e.map((function(e){return"".concat(e.id,";").concat(e.firstName,";").concat(e.lastName,";").concat(e.gender,";")+"".concat(e.patientStatus,";").concat(e.dateOfBirth,";").concat(e.email,";")+"".concat(e.phoneNumber,";").concat(e.street,";").concat(e.houseNumber,";")+"".concat(e.zip,";").concat(e.city,";").concat(e.insuranceCompany,";")+"".concat(e.insuranceMembershipNumber)})).join("\n"),a=pt()().format("YYYY_MM_DD")+"_patienten_export.csv";Za(t+"\n"+n,a)})).catch((function(e){console.error(e);var t={message:"Fehler beim Laden der Patientendaten.",description:e.message};n.$notification.error(t)}))}))},handleTableChange:function(e,t,n){var a=n.field?n.field:"lastName",r="asc";"descend"===n.order&&(r="desc"),this.form.order=r,this.form.orderBy=a,this.loadPage()},handlePatientClick:function(e){e.id&&this.$router.push({name:"patient-detail",params:{id:e.id}})},customRow:function(e){var t=this;return{on:{dblclick:function(){return t.handlePatientClick(e)}}}},getQuarantineSelection:function(){return"NO_SELECTION"===this.quarantineSelection?["QUARANTINE_RELEASED","QUARANTINE_PROFESSIONBAN_RELEASED"]:"QUARANTINE_SELECTED"===this.quarantineSelection?["QUARANTINE_SELECTED"]:"QUARANTINE_MANDATED"===this.quarantineSelection?["QUARANTINE_MANDATED"]:[]},moment:pt.a}}),or=sr,ur=(n("d8cc"),Object(u["a"])(or,Ka,Ja,!1,null,"dfa9ea9e",null)),cr=ur.exports,lr=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"public-register-outer-container"},[r("a-card",{staticClass:"card"},[r("div",{staticStyle:{position:"relative"}},[r("div",{staticStyle:{position:"absolute",left:"5pt",display:"flex","align-items":"center",height:"100%"}},[r("a-button",{attrs:{type:"primary",icon:"home",ghost:!0},on:{click:t.gotoHome}},[t._v("Zur Startseite")])],1),r("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[r("img",{staticStyle:{"vertical-align":"middle",height:"100px","margin-right":"25px"},attrs:{"aspect-ratio":"1.7",src:n("cf05")}}),r("h1",{staticStyle:{margin:"0"}},[t._v("Selbstregistrierung")])])]),r("div",{staticStyle:{"margin-top":"35px"}},[r("a-steps",{staticClass:"steps",staticStyle:{"margin-bottom":"20px"},attrs:{id:"scroll-anchor",current:t.current,direction:t.stepsDirection},on:{change:function(t){return e.current=t}}},t._l(t.steps,(function(e){return r("a-step",{key:e.title,attrs:{title:e.title,disabled:t.maxCurrent<t.steps.findIndex((function(t){return t.title===e.title}))}})})),1),r("a-form",{attrs:{form:t.form,layout:"vertical"}},[r("div",{style:{display:0===t.current?"block":"none"}},[r("h2",[t._v(" Welche der folgenden Symptome hatten Sie in den letzten 24h? ")]),r("div",{staticStyle:{display:"flex"}},[r("div",[r("a-form-item",{staticStyle:{"margin-bottom":"0"}},[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptoms"],expression:"['symptoms']"}],staticClass:"checkbox-group",attrs:{options:t.symptoms}})],1),r("div",{staticClass:"checkbox-group"},[r("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[r("a-checkbox",{model:{value:t.showOtherSymptoms,callback:function(e){t.showOtherSymptoms=e},expression:"showOtherSymptoms"}},[t._v("Andere:")]),r("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["symptomsOther"],expression:"['symptomsOther']"}],attrs:{disabled:!t.showOtherSymptoms}})],1)],1)])],1),r("span",{staticStyle:{flex:"1 1 auto"}})])]),r("div",{style:{display:1===t.current?"block":"none"}},[r("h2",[t._v("Welche Formen der Exposition treffen auf Sie zu?")]),r("div",{staticStyle:{display:"flex"}},[r("div",{staticStyle:{display:"flex","flex-direction":"column"}},[r("a-form-item",[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposures"],expression:"['exposures']"}],staticClass:"checkbox-group",attrs:{options:t.exposures},model:{value:t.selectedExposures,callback:function(e){t.selectedExposures=e},expression:"selectedExposures"}})],1),r("a-form-item",{staticStyle:{"padding-left":"35px"}},[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["exposureLocation"],expression:"['exposureLocation']"}],staticClass:"checkbox-group",attrs:{disabled:t.disableExposureLocation,options:t.exposureLocation}})],1)],1),r("span",{staticStyle:{flex:"1 1 auto"}})])]),r("div",{style:{display:2===t.current?"block":"none"}},[r("h2",[t._v(" Welche Vorerkrankungen und Risikofaktoren treffen auf Sie zu? ")]),r("div",{staticStyle:{display:"flex"}},[r("div",[r("a-form-item",{staticStyle:{"margin-bottom":"0"}},[r("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnesses"],expression:"['preIllnesses']"}],staticClass:"checkbox-group",attrs:{options:t.preIllnesses}})],1),r("div",{staticClass:"checkbox-group"},[r("div",{staticStyle:{display:"flex","align-items":"center","align-self":"stretch"}},[r("a-checkbox",{model:{value:t.showOtherPreIllnesses,callback:function(e){t.showOtherPreIllnesses=e},expression:"showOtherPreIllnesses"}},[t._v("Andere:")]),r("a-form-item",{staticStyle:{flex:"1 1 100%","margin-bottom":"0"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["preIllnessesOther"],expression:"['preIllnessesOther']"}],attrs:{disabled:!t.showOtherPreIllnesses}})],1)],1)])],1),r("span",{staticStyle:{flex:"1 1 auto"}})])]),r("div",{staticClass:"data-form",style:{display:3===t.current?"block":"none"}},[r("h2",[t._v("Bitte erfassen Sie nun Ihre persönlichen Daten.")]),r("PatientStammdaten",{attrs:{form:t.form}})],1),r("div",{style:{display:4===t.current?"block":"none"}},[t.createdPatient?t._e():r("div",[r("h2",[r("a-icon",{staticStyle:{"margin-right":"7px"},style:{fontSize:"36px",color:"lightgray"},attrs:{type:"check-circle"}}),t._v(" Abschließen und Daten übermitteln ")],1),r("div",{staticStyle:{"margin-bottom":"34px",display:"flex","align-items":"center","justify-content":"center"}}),r("a-form-item",[r("a-checkbox",{on:{change:t.onCheckedChange}},[t._v(" Ich erkläre mich mit der Übermittlung meiner Daten zur weiteren Verarbeitung einverstanden. ")]),t.showCheckedError?r("span",{staticStyle:{color:"red"}},[t._v("Bitte bestätigen")]):t._e()],1)],1),t.createdPatient?r("div",[r("h2",[t._v("Geschafft!")]),r("div",{staticStyle:{"margin-bottom":"20px",display:"flex","align-items":"center","justify-content":"center"}},[r("a-icon",{staticStyle:{"margin-right":"25px"},style:{fontSize:"38px",color:"#08c"},attrs:{type:"check-circle"}}),r("span",[t._v("Sie erhalten in Kürze eine Email zur Bestätigung.")])],1),r("a-button",{attrs:{type:"primary"},on:{click:t.gotoHome}},[r("a-icon",{attrs:{type:"home"}}),t._v(" Zur Startseite")],1)],1):t._e()])])],1),r("div",{staticClass:"button-row"},[r("a-button",{staticClass:"button-row-button",staticStyle:{flex:"0 1 150px"},style:{visibility:0===t.current||t.createdPatient?"hidden":"visible"},attrs:{block:"",shape:"round",size:"large",type:"primary"},on:{click:t.prev}},[r("a-icon",{attrs:{type:"arrow-left"}}),t._v(" Zurück ")],1),4!==t.current?r("a-button",{staticClass:"button-row-button",staticStyle:{flex:"0 1 150px"},attrs:{block:"",shape:"round",size:"large",type:"primary"},on:{click:t.next}},[t._v(" Weiter "),r("a-icon",{attrs:{type:"arrow-right"}})],1):t._e(),4===t.current?r("a-button",{staticClass:"button-row-button",staticStyle:{flex:"0 1 150px"},attrs:{disabled:!t.checked,block:"",shape:"round",size:"large",type:"primary"},on:{click:t.save}},[r("a-icon",[r("svg",{attrs:{viewBox:"64 64 896 896",focusable:"false","data-icon":"send",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}},[r("path",{attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}})])]),t._v(" Absenden ")],1):t._e()],1)])],1)},dr=[];(function(e){e[e["Json"]=0]="Json"})(Wa||(Wa={}));var mr=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.baseUrl,r=n.baseApiParams,i=n.securityWorker;Object(y["a"])(this,e),this.baseUrl="/sormas-rest",this.securityData=null,this.securityWorker=function(){},this.baseApiParams={credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=function(e){t.securityData=e},this.bodyFormatters=Object(_["a"])({},Wa.Json,JSON.stringify),this.safeParseResponse=function(e){return e.json().then((function(e){return e})).catch((function(t){return e.text}))},this.request=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.secure,i=Object(S["a"])(a,["secure"]),s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;return fetch("".concat(t.baseUrl).concat(e),Object(f["a"])(Object(f["a"])({},t.mergeRequestOptions(i,(u||r)&&t.securityWorker(t.securityData))),{},{method:n,body:s?t.bodyFormatters[o||Wa.Json](s):null})).then(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.safeParseResponse(n);case 2:if(a=e.sent,n.ok){e.next=5;break}throw a;case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},this.baseUrl=a||this.baseUrl,this.baseApiParams=r||this.baseApiParams,this.securityWorker=i||this.securityWorker}return Object(v["a"])(e,[{key:"addQueryParam",value:function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(Array.isArray(e[t])?e[t].join(","):e[t])}},{key:"addQueryParams",value:function(e){var t=this,n=e||{},a=Object.keys(n).filter((function(e){return"undefined"!==typeof n[e]}));return a.length?"?".concat(a.map((function(e){return"object"!==Object(x["a"])(n[e])||Array.isArray(n[e])?t.addQueryParam(n,e):t.addQueryParams(n[e]).substring(1)})).join("&")):""}},{key:"mergeRequestOptions",value:function(e,t){return Object(f["a"])(Object(f["a"])(Object(f["a"])(Object(f["a"])({},this.baseApiParams),e),t||{}),{},{headers:Object(f["a"])(Object(f["a"])(Object(f["a"])({},this.baseApiParams.headers||{}),e.headers||{}),t&&t.headers||{})})}}]),e}(),pr=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(y["a"])(this,n),e=t.apply(this,arguments),e.additionaltests={getByUuids:function(t,n){return e.request("/additionaltests/query","POST",n,t)},getAllActiveUuids:function(t){return e.request("/additionaltests/uuids","GET",t)},getAllAdditionalTests:function(t,n){return e.request("/additionaltests/all/".concat(t),"GET",n)},postAdditionalTests:function(t,n){return e.request("/additionaltests/push","POST",n,t)}},e.aggregatereports={getByUuids1:function(t,n){return e.request("/aggregatereports/query","POST",n,t)},getAllAggregateReports:function(t,n){return e.request("/aggregatereports/all/".concat(t),"GET",n)},postAggregateReports:function(t,n){return e.request("/aggregatereports/push","POST",n,t)},getAllUuids:function(t){return e.request("/aggregatereports/uuids","GET",t)}},e.cases={getByUuids2:function(t,n){return e.request("/cases/query","POST",n,t)},getAllCases:function(t,n){return e.request("/cases/all/".concat(t),"GET",n)},getAllCasesWithExtendedChangeDateFilters:function(t,n){return e.request("/cases/allWithExtendedChangeDateFilters/".concat(t),"GET",n)},postCases:function(t,n){return e.request("/cases/push","POST",n,t)},getArchivedUuidsSince:function(t,n){return e.request("/cases/archived/".concat(t),"GET",n)},getDeletedUuidsSince:function(t,n){return e.request("/cases/deleted/".concat(t),"GET",n)},getAllUuids1:function(t){return e.request("/cases/uuids","GET",t)}},e.classification={getAll:function(t,n){return e.request("/classification/all/".concat(t),"GET",n)}},e.clinicalvisits={getByUuids3:function(t,n){return e.request("/clinicalvisits/query","POST",n,t)},getAllActiveUuids1:function(t){return e.request("/clinicalvisits/uuids","GET",t)},getAllVisits:function(t,n){return e.request("/clinicalvisits/all/".concat(t),"GET",n)},postVisits:function(t,n){return e.request("/clinicalvisits/push","POST",n,t)}},e.communities={getAll1:function(t,n){return e.request("/communities/all/".concat(t),"GET",n)},getByUuids4:function(t,n){return e.request("/communities/query","POST",n,t)},getAllUuids2:function(t){return e.request("/communities/uuids","GET",t)}},e.contacts={getByUuids5:function(t,n){return e.request("/contacts/query","POST",n,t)},getAllActiveUuids2:function(t){return e.request("/contacts/uuids","GET",t)},getDeletedUuidsSince1:function(t,n){return e.request("/contacts/deleted/".concat(t),"GET",n)},getAllContacts:function(t,n){return e.request("/contacts/all/".concat(t),"GET",n)},postContacts:function(t,n){return e.request("/contacts/push","POST",n,t)}},e.diseaseconfigurations={getByUuids6:function(t,n){return e.request("/diseaseconfigurations/query","POST",n,t)},getAllDiseaseConfigurations:function(t,n){return e.request("/diseaseconfigurations/all/".concat(t),"GET",n)},getAllUuids3:function(t){return e.request("/diseaseconfigurations/uuids","GET",t)}},e.districts={getAll2:function(t,n){return e.request("/districts/all/".concat(t),"GET",n)},getByUuids7:function(t,n){return e.request("/districts/query","POST",n,t)},getAllUuids4:function(t){return e.request("/districts/uuids","GET",t)}},e.eventparticipants={getByUuids8:function(t,n){return e.request("/eventparticipants/query","POST",n,t)},getAllEventParticipantsAfter:function(t,n){return e.request("/eventparticipants/all/".concat(t),"GET",n)},postEventParticipants:function(t,n){return e.request("/eventparticipants/push","POST",n,t)},getAllActiveUuids3:function(t){return e.request("/eventparticipants/uuids","GET",t)}},e.events={getByUuids9:function(t,n){return e.request("/events/query","POST",n,t)},getAllActiveUuids4:function(t){return e.request("/events/uuids","GET",t)},getArchivedUuidsSince1:function(t,n){return e.request("/events/archived/".concat(t),"GET",n)},getDeletedUuidsSince2:function(t,n){return e.request("/events/deleted/".concat(t),"GET",n)},getAllEvents:function(t,n){return e.request("/events/all/".concat(t),"GET",n)},postEvents:function(t,n){return e.request("/events/push","POST",n,t)}},e.visitsExternal={getVersion:function(t){return e.request("/visits-external/version","GET",t)},isValidPersonUuid:function(t,n){return e.request("/visits-external/person/".concat(t,"/isValid"),"GET",n)},postExternalVisits:function(t,n){return e.request("/visits-external","POST",n,t)}},e.facilities={getByUuids10:function(t,n){return e.request("/facilities/query","POST",n,t)},getAllByRegion:function(t,n,a){return e.request("/facilities/region/".concat(t,"/").concat(n),"GET",a)},getAllWithoutRegion:function(t,n){return e.request("/facilities/general/".concat(t),"GET",n)},getAllUuids5:function(t){return e.request("/facilities/uuids","GET",t)}},e.featureconfigurations={getByUuids11:function(t,n){return e.request("/featureconfigurations/query","POST",n,t)},getAllFeatureConfigurations:function(t,n){return e.request("/featureconfigurations/all/".concat(t),"GET",n)},getAllUuids6:function(t){return e.request("/featureconfigurations/uuids","GET",t)},getDeletedUuids:function(t,n){return e.request("/featureconfigurations/deleted/".concat(t),"GET",n)}},e.info={getVersion1:function(t){return e.request("/info/version","GET",t)},getLocale:function(t){return e.request("/info/locale","GET",t)},getAppUrl:function(t,n){return e.request("/info/appurl".concat(e.addQueryParams(t)),"GET",n)},isCompatibleToApi:function(t,n){return e.request("/info/checkcompatibility".concat(e.addQueryParams(t)),"GET",n)}},e.infrastructure={getInfrastructureSyncData:function(t,n){return e.request("/infrastructure/sync","POST",n,t)}},e.outbreaks={getActiveSince:function(t,n){return e.request("/outbreaks/active/".concat(t),"GET",n)},getActiveUuids:function(t){return e.request("/outbreaks/uuids","GET",t)},getInactiveUuidsSince:function(t,n){return e.request("/outbreaks/inactive/".concat(t),"GET",n)}},e.pathogentests={getByUuids12:function(t,n){return e.request("/pathogentests/query","POST",n,t)},getAllActiveUuids5:function(t){return e.request("/pathogentests/uuids","GET",t)},getDeletedUuidsSince3:function(t,n){return e.request("/pathogentests/deleted/".concat(t),"GET",n)},getBySampleUuids:function(t,n){return e.request("/pathogentests/query/samples","POST",n,t)},getAllPathogenTests:function(t,n){return e.request("/pathogentests/all/".concat(t),"GET",n)},postPathogenTests:function(t,n){return e.request("/pathogentests/push","POST",n,t)}},e.persons={getByUuids13:function(t,n){return e.request("/persons/query","POST",n,t)},getAllPersons:function(t,n){return e.request("/persons/all/".concat(t),"GET",n)},postPersons:function(t,n){return e.request("/persons/push","POST",n,t)},getAllUuids7:function(t){return e.request("/persons/uuids","GET",t)}},e.pointsofentry={getAll3:function(t,n){return e.request("/pointsofentry/all/".concat(t),"GET",n)},getByUuids14:function(t,n){return e.request("/pointsofentry/query","POST",n,t)},getAllUuids8:function(t){return e.request("/pointsofentry/uuids","GET",t)}},e.prescriptions={getByUuids15:function(t,n){return e.request("/prescriptions/query","POST",n,t)},getAllActiveUuids6:function(t){return e.request("/prescriptions/uuids","GET",t)},postPrescriptions:function(t,n){return e.request("/prescriptions/push","POST",n,t)},getAllPrescriptions:function(t,n){return e.request("/prescriptions/all/".concat(t),"GET",n)}},e.regions={getAll4:function(t,n){return e.request("/regions/all/".concat(t),"GET",n)},getByUuids16:function(t,n){return e.request("/regions/query","POST",n,t)},getAllUuids9:function(t){return e.request("/regions/uuids","GET",t)}},e.samples={getByUuids17:function(t,n){return e.request("/samples/query","POST",n,t)},getAllActiveUuids7:function(t){return e.request("/samples/uuids","GET",t)},getDeletedUuidsSince4:function(t,n){return e.request("/samples/deleted/".concat(t),"GET",n)},getAllSamples:function(t,n){return e.request("/samples/all/".concat(t),"GET",n)},getByCaseUuids:function(t,n){return e.request("/samples/query/cases","POST",n,t)},postSamples:function(t,n){return e.request("/samples/push","POST",n,t)}},e.tasks={getAll5:function(t,n){return e.request("/tasks/all/".concat(t),"GET",n)},getByUuids18:function(t,n){return e.request("/tasks/query","POST",n,t)},getAllActiveUuids8:function(t){return e.request("/tasks/uuids","GET",t)},postTasks:function(t,n){return e.request("/tasks/push","POST",n,t)}},e.treatments={getByUuids19:function(t,n){return e.request("/treatments/query","POST",n,t)},getAllActiveUuids9:function(t){return e.request("/treatments/uuids","GET",t)},getAllTreatments:function(t,n){return e.request("/treatments/all/".concat(t),"GET",n)},postTreatments:function(t,n){return e.request("/treatments/push","POST",n,t)}},e.users={getAll6:function(t,n){return e.request("/users/all/".concat(t),"GET",n)},getByUuids20:function(t,n){return e.request("/users/query","POST",n,t)},getAllUuids10:function(t){return e.request("/users/uuids","GET",t)}},e.userroles={getAll7:function(t,n){return e.request("/userroles/all/".concat(t),"GET",n)},getAllUuids11:function(t){return e.request("/userroles/uuids","GET",t)},getDeletedUuids1:function(t,n){return e.request("/userroles/deleted/".concat(t),"GET",n)}},e.visits={getByUuids21:function(t,n){return e.request("/visits/query","POST",n,t)},getAllActiveUuids10:function(t){return e.request("/visits/uuids","GET",t)},getAllVisits1:function(t,n){return e.request("/visits/all/".concat(t),"GET",n)},postVisits1:function(t,n){return e.request("/visits/push","POST",n,t)}},e.weeklyreports={getByUuids22:function(t,n){return e.request("/weeklyreports/query","POST",n,t)},postWeeklyReports:function(t,n){return e.request("/weeklyreports/push","POST",n,t)},getAllWeeklyReports:function(t,n){return e.request("/weeklyreports/all/".concat(t),"GET",n)},getAllUuids12:function(t){return e.request("/weeklyreports/uuids","GET",t)}},e}return n}(mr),fr=i["a"].extend({name:"PublicRegisterComponent",components:{PatientStammdaten:Fn},data:function(){return{form:this.$form.createForm(this),current:0,maxCurrent:0,createdPatient:null,symptoms:kt,preIllnesses:Pt,exposures:Pa,selectedExposures:[],exposureLocation:Ea,steps:[{title:"Symptome"},{title:"Exposition"},{title:"Risiken",description:"Vorerkrankungen und Risikofaktoren"},{title:"Persönliche Daten"},{title:"Abschließen"}],checked:!1,showCheckedError:!1,showOtherSymptoms:!1,showOtherPreIllnesses:!1}},computed:{stepsDirection:function(){return window.innerWidth>=700?"horizontal":"vertical"},disableExposureLocation:function(){return!this.selectedExposures.includes("CONTACT_WITH_CORONA_CASE")}},methods:{scrollToFormTop:function(){var e=document.getElementById("scroll-anchor");e.scrollIntoView()},prev:function(){this.current--,this.scrollToFormTop()},next:function(){var e=this,t=function(){e.current++,e.maxCurrent=Math.max(e.current,e.maxCurrent),e.scrollToFormTop()};3===this.current?this.form.validateFields((function(e){e||t()})):t()},save:function(){var e=this;this.checked?this.form.validateFields((function(t,n){if(t)console.error(t);else{var a=Object(f["a"])(Object(f["a"])({},n),{},{dateOfBirth:n.dateOfBirth.format("YYYY-MM-DD"),patientStatus:"REGISTERED",fluImmunization:!1,speedOfSymptomsOutbreak:"",riskAreas:[]});a.symptoms||(a.symptoms=[]),a.preIllnesses||(a.preIllnesses=[]),n.exposures&&(a.riskAreas=a.riskAreas.concat(n.exposures)),e.showOtherSymptoms&&a.symptoms.push(n.symptomsOther),e.showOtherPreIllnesses&&a.preIllnesses.push(n.preIllnessesOther),n.exposureLocation&&(a.riskAreas=a.riskAreas.concat(n.exposureLocation.map((function(e){return"CONTACT_WITH_CORONA_"+e})))),a.weakenedImmuneSystem=!!a.preIllnesses.find((function(e){return"IMMUNODEFICIENCY"===e})),a.coronaContacts=!!a.riskAreas.find((function(e){return e.startsWith("CONTACT_WITH_CORONA")}));var r=(new Date).toISOString().split(".")[0],i=m(),s=m(),o=a.dateOfBirth.split("-"),u={creationDate:r,changeDate:r,uuid:i,firstName:a.firstName,lastName:a.lastName,sex:a.gender.toUpperCase(),birthdateDD:o[2],birthdateMM:o[1],birthdateYYYY:o[0]},c={creationDate:r,changeDate:r,uuid:s,disease:"CORONAVIRUS",person:{uuid:i},reportDate:r,caseClassification:"NOT_CLASSIFIED",investigationStatus:"PENDING",region:{uuid:"SXAJMX-GJU72R-POK2TS-VR7NKGHY"},district:{uuid:"UCS4I7-ZGJHFO-X4RRTG-5DXO2BN4"},healthFacility:{uuid:"W7EFRL-NADHDB-MK4PZ3-6DFIKGRY"},reportingUser:{uuid:"XZUG2B-SWS5CB-SMNI4T-WZOECAZQ"}},l={headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("SurvOff:SurvOff")}},d=new pr;d.persons.postPersons([u],l).then((function(e){console.log("Posted person: "+e)})).then((function(e){d.cases.postCases([c],l)})).then((function(e){console.log("Posted case: "+e)}))}function m(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})).toUpperCase()}})):this.showCheckedError=!0},onCheckedChange:function(e){null!==e&&void 0!==e&&e.target&&(this.checked=e.target.checked,this.checked&&(this.showCheckedError=!1))},gotoHome:function(){this.$router.push({path:"/"})}}}),hr=fr,vr=(n("a27b"),Object(u["a"])(hr,lr,dr,!1,null,null,null)),gr=vr.exports,br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-page-header",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{title:"Statistiken","sub-title":"(Statische Daten zu Präsentationszwecken)"}}),n("a-card",{staticClass:"table-container"},[n("a-table",{attrs:{columns:e.columns,dataSource:e.data,scroll:{x:1,y:0}}}),n("div",{staticStyle:{display:"flex",width:"100%","justify-content":"flex-end","margin-bottom":"1rem"}},[n("a-button",{attrs:{type:"primary"}},[e._v("CSV exportieren")])],1)],1)],1)},yr=[],xr=[{title:"PLZ",dataIndex:"zip",key:"zip",width:10,sorter:function(e,t){return e.zip-t.zip},defaultSortOrder:"ascend"},{title:"Aktive Fälle (Infizierte)",dataIndex:"active",key:"active",width:10,sorter:function(e,t){return e.active-t.active}},{title:"Verdachtsfälle",dataIndex:"suspicion",key:"suspicion",width:10,sorter:function(e,t){return e.suspicion-t.suspicion}},{title:"Genesene Fälle",dataIndex:"recovered",key:"recovered",width:10,sorter:function(e,t){return e.recovered-t.recovered}},{title:"Verstorbene Fälle",dataIndex:"deaths",key:"deaths",width:10,sorter:function(e,t){return e.deaths-t.deaths}}],Sr=[{zip:"12345",active:"320",suspicion:"742",recovered:"135",deaths:"12"},{zip:"12346",active:"920",suspicion:"342",recovered:"1435",deaths:"12"},{zip:"17458",active:"54",suspicion:"68",recovered:"125",deaths:"14"},{zip:"48569",active:"256",suspicion:"123",recovered:"48",deaths:"5"},{zip:"45369",active:"12",suspicion:"25",recovered:"2",deaths:"0"},{zip:"43985",active:"36",suspicion:"21",recovered:"3",deaths:"7"},{zip:"68524",active:"3425",suspicion:"1258",recovered:"125",deaths:"35"}],_r=i["a"].extend({name:"PublicStatisticsComponent",props:{msg:String},data:function(){return{entities:[],content:"",columns:xr,data:Sr}},methods:{}}),wr=_r,Or=(n("2e9f"),Object(u["a"])(wr,br,yr,!1,null,"75fdcc77",null)),kr=Or.exports,Ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[e.createdInstitution?a("div",[a("div",[e._v("Die Institution wurde erfolgreich registriert.")]),a("br"),a("div",[e._v("Die Instituions ID lautet: "+e._s(e.createdInstitution.id))])]):a("div",[a("a-card",{staticStyle:{margin:"3rem auto","max-width":"860px"}},[a("div",{staticClass:"login-header"},[a("img",{attrs:{src:n("cf05"),height:"100"}}),a("h3",[e._v(" Registrieren Sie hier eine neue Instutition in IMIS. ")])]),a("a-form",{attrs:{form:e.form,layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18}},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Benutzername"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0}]}],expression:"['username', { rules: [{ required: true }] }]"}]},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Passwort"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0}]}],expression:"['password', { rules: [{ required: true }] }]"}],attrs:{type:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Passwort wiederholen","has-feedback":"","validate-status":e.passwordRepeat.validateStatus,help:e.passwordRepeat.errorMsg}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password-repeat",{rules:[{required:!0}]}],expression:"[\n                  'password-repeat',\n                  { rules: [{ required: true }] },\n                ]"}],attrs:{type:"password"},on:{change:e.handlePasswordRepeatChange}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1)],1),a("a-divider"),a("a-row",[a("a-col",{attrs:{md:12}},[a("a-form-item",{attrs:{label:"Typ"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["institutionType",{rules:[{required:!0,message:"Please select your institution type!"}]}],expression:"[\n                  'institutionType',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: 'Please select your institution type!',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{placeholder:"Bitte wählen..."}},[a("a-select-option",{attrs:{value:"LABORATORY"}},[e._v("Labor")]),a("a-select-option",{attrs:{value:"DOCTORS_OFFICE"}},[e._v("Arztpraxis")]),a("a-select-option",{attrs:{value:"CLINIC"}},[e._v("Klinik")]),a("a-select-option",{attrs:{value:"TEST_SITE"}},[e._v("Teststelle")])],1)],1),a("a-form-item",{attrs:{label:"Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0}]}],expression:"['name', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Straße"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["street",{rules:[{required:!0}]}],expression:"['street', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Hausnr."}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["houseNumber",{rules:[{required:!0}]}],expression:"['houseNumber', { rules: [{ required: true }] }]"}]})],1)],1),a("a-col",{attrs:{md:12}},[a("a-form-item",{attrs:{label:"PLZ"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["zip",{rules:[{required:!0}]}],expression:"['zip', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Ort"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0}]}],expression:"['city', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"E-mail"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0}]}],expression:"['email', { rules: [{ required: true }] }]"}]})],1),a("a-form-item",{attrs:{label:"Telefon"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phoneNumber",{rules:[{required:!0}]}],expression:"['phoneNumber', { rules: [{ required: true }] }]"}]})],1)],1)],1),a("a-row",[a("a-col",[a("a-form-item",{attrs:{label:"Anmerkungen",labelCol:{span:24},wrapperCol:{span:24}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}]})],1)],1)],1),a("a-row",[a("a-col",[a("a-form-item",[a("a-checkbox",{on:{change:e.onCheck}},[a("span",{class:e.dataProcessingClass},[e._v(" Ich erkläre mich mit der Übermittlung dieser Daten zur weiteren Verarbeitung einverstanden. ")])])],1)],1),a("a-col",[a("a-form-item",{attrs:{wrapperCol:{span:24,offset:0}}},[a("a-row",{attrs:{gutter:16,type:"flex",justify:"end"}},[a("a-col",[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" Registrieren ")])],1)],1)],1)],1)],1)],1)],1)],1)])},Pr=[];function Er(e,t){return e===t?{validateStatus:"success",errorMsg:null}:{validateStatus:"error",errorMsg:"Passwörter stimmen nicht überein"}}var Tr=i["a"].extend({name:"RegisterInstitutionPage",data:function(){return{form:this.$form.createForm(this,{name:"coordinated"}),createdInstitution:null,dataProcessingClass:"",checked:!1,passwordRepeat:{}}},methods:{onCheck:function(e){this.checked=e.target.checked},handlePasswordRepeatChange:function(e){this.passwordRepeat=Er(this.form.getFieldValue("password"),e.target.value)},handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){e.checked?t?console.error(t):(n=Object(f["a"])(Object(f["a"])({},n),{},{user:{username:n.username,password:n.password,userRole:"USER_ROLE_ADMIN"}}),N.registerInstitutionUsingPost(n).then((function(){e.form.resetFields();var t={message:"Institution registriert.",description:"Die Institution wurde erfolgreich registriert."};e.$notification.success(t),e.$store.dispatch("authModule/login",{username:n.username,password:n.password})})).catch((function(t){var n={message:"Fehler beim Registrieren der Institution.",description:t.message};e.$notification.error(n)}))):e.dataProcessingClass="data-processing-not-selected"}))}}}),Cr=Tr,Nr=(n("c89d"),Object(u["a"])(Cr,Ir,Pr,!1,null,"28d670e0",null)),Ar=Nr.exports,Dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper register-patient-container"},[e.createdPatient?n("a-page-header",{attrs:{title:"Patient wurde erfolgreich registriert",ghost:!1}},[n("template",{slot:"extra"},[n("router-link",{attrs:{to:{name:"register-test"}}},[n("a-button",[e._v(" Probe zuordnen ")])],1),n("router-link",{attrs:{to:{name:"patient-detail",params:{id:e.createdPatient.id}}}},[n("a-button",[e._v(" Patienten/in einsehen ")])],1),n("a-button",{attrs:{type:"primary"},on:{click:function(t){e.createdPatient=null}}},[e._v(" Neuen Patienten registrieren ")])],1),n("a-descriptions",{attrs:{size:"small",column:1}},[n("a-descriptions-item",{attrs:{label:"Patienten-ID"}},[e._v(" "+e._s(e.createdPatient.id)+" ")]),n("a-descriptions-item",{attrs:{label:"Name"}},[e._v(" "+e._s(e.createdPatient.firstName)+" "+e._s(e.createdPatient.lastName)+" ")])],1)],2):e._e(),e.createdPatient?e._e():n("div",[n("a-page-header",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{title:"Patient Registrieren","sub-title":"Bitte erfassen Sie\n    die nachfolgenden Daten so vollständig wie möglich. Pflichtangaben sind\n    mit '*' markiert."}}),n("a-form",{attrs:{form:e.form,layout:"vertical"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("a-collapse",{attrs:{defaultActiveKey:"1"}},[n("a-collapse-panel",{key:"1",attrs:{header:"Personendaten"}},[n("PatientStammdaten",{attrs:{form:e.form,"show-death":!0,"show-stay":!0}})],1),n("a-collapse-panel",{key:"2",attrs:{header:"Exposition"}},[n("ExposureForm",{attrs:{form:e.form}})],1),n("a-collapse-panel",{key:"3",attrs:{header:"Symptome"}},[n("SymptomsForm",{attrs:{form:e.form}}),n("a-form-item",{staticClass:"no-double-colon-form-field",attrs:{label:"Hat der Patient/die Patientin für diese Saison eine Influenza-Impfung erhalten?",labelCol:{div:24},wrapperCol:{div:24}}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["fluImmunization"],expression:"['fluImmunization']"}]},[n("a-radio",{attrs:{value:"true"}},[e._v("Ja")]),n("a-radio",{attrs:{value:"false"}},[e._v("Nein")]),n("a-radio",{attrs:{value:""}},[e._v("Nicht bekannt")])],1)],1)],1),n("a-collapse-panel",{key:"4",attrs:{header:"Vorerkrankungen und Risikofaktoren"}},[n("PreIllnessesForm",{attrs:{form:e.form}})],1),n("a-collapse-panel",{key:"5",attrs:{header:"Krankheit und Zustand"}},[n("IllnessStatusForm",{attrs:{form:e.form}})],1)],1),n("a-form-item",{staticStyle:{"margin-top":"15px"},attrs:{wrapperCol:{span:24,offset:0}}},[n("a-row",{attrs:{gutter:16,justify:"end",type:"flex"}},[n("a-col",[n("a-button",{attrs:{"html-type":"submit",size:"large",type:"primary"}},[n("a-icon",{attrs:{type:"save"}}),e._v(" Patient registrieren ")],1)],1)],1)],1)],1)],1)],1)},jr=[],qr=i["a"].extend({components:{PatientStammdaten:Fn,SymptomsForm:da,ExposureForm:Aa,PreIllnessesForm:ga,IllnessStatusForm:Fa},name:"RegisterPatient",data:function(){return{form:this.$form.createForm(this,{name:"coordinated"}),createdPatient:null,showSpeedOfSymptoms:!1}},methods:{handleSubmit:function(){var e=this;this.form.validateFields(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:r=Object(f["a"])(Object(f["a"])({},a),{},{dateOfBirth:a.dateOfBirth.format("YYYY-MM-DD"),riskAreas:[]}),a.dateOfIllness=(a.dateOfIllness||pt()()).format("YYYY-MM-DD"),a.dateOfReporting=(a.dateOfReporting||pt()()).format("YYYY-MM-DD"),r.symptoms||(r.symptoms=[]),r.preIllnesses||(r.preIllnesses=[]),r.dateOfDeath&&(r.dateOfDeath=r.dateOfDeath.format("YYYY-MM-DD")),r.patientHospitalized?(r.dateOfHospitalization=a.dateOfHospitalization.format("YYYY-MM-DD"),r.onIntensiveCareUnit=a.onIntensiveCareUnit):(r.dateOfHospitalization=null,r.onIntensiveCareUnit=null),a.exposures&&(r.riskAreas=r.riskAreas.concat(a.exposures)),a.showOtherSymptoms&&a.symptomsOther&&r.symptoms.push(a.symptomsOther),a.showOtherPreIllnesses&&a.preIllnessesOther&&r.preIllnesses.push(a.preIllnessesOther),a.exposureLocation&&(r.riskAreas=r.riskAreas.concat(a.exposureLocation.map((function(e){return"CONTACT_WITH_CORONA_"+e})))),N.addPatientUsingPost(r).then((function(t){e.form.resetFields(),e.createdPatient=t,e.form.setFieldsValue({symptomsOther:void 0,symptomsOtherActivated:void 0,preIllnessesOther:void 0,preIllnessesActivated:void 0});var n={message:"Patient/in registriert.",description:"Patient/in wurde erfolgreich registriert."};e.$notification.success(n),window.scrollTo(0,0)})).catch((function(t){console.error(t);var n={message:"Patient/in nicht registriert.",description:"Patient/in konnte nicht registriert werden."};e.$notification.error(n)}));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}}}),Rr=qr,Ur=(n("a35c"),Object(u["a"])(Rr,Dr,jr,!1,null,"be3ebe12",null)),Fr=Ur.exports,zr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"max-width":"500px",margin:"0 auto"}},[n("a-page-header",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{title:"Probe zuordnen","sub-title":""}}),n("a-card",[n("a-form",{attrs:{colon:!1,form:e.form,layout:"vertical"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("LaboratoryInput",{attrs:{form:e.form,validation:["laboratoryId",{rules:[{required:!0,message:"Bitte wählen Sie ein Labor aus."}]}],label:"Labor"}}),n("a-form-item",{attrs:{label:"Patienten-ID"}},[n("PatientInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["patientId",{rules:[{required:!0,message:"Bitte geben Sie die Patienten-ID ein."}]}],expression:"[\n            'patientId',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte geben Sie die Patienten-ID ein.',\n                },\n              ],\n            },\n          ]"}]})],1),n("a-form-item",{attrs:{label:"Test-ID"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["testId",{rules:[{required:!0,message:"Bitte geben Sie die Test-ID ein."}]}],expression:"[\n            'testId',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte geben Sie die Test-ID ein.',\n                },\n              ],\n            },\n          ]"}],attrs:{placeholder:"Neue Test ID"}})],1),n("a-form-item",{attrs:{label:"Testtyp"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"Bitte geben Sie den Typen des Tests an."}]}],expression:"[\n            'type',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte geben Sie den Typen des Tests an.',\n                },\n              ],\n            },\n          ]"}],staticClass:"imis-radio-group",attrs:{"default-value":"PCR"}},e._l(e.testTypes,(function(t){return n("a-radio",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),n("a-form-item",{attrs:{label:"Probenmaterial"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["material",{rules:[{required:!0,message:"Bitte geben Sie das Material des Tests an."}]}],expression:"[\n            'material',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte geben Sie das Material des Tests an.',\n                },\n              ],\n            },\n          ]"}],staticClass:"imis-radio-group",attrs:{"default-value":"RACHENABSTRICH"}},e._l(e.testMaterials,(function(t){return n("a-radio",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),n("a-form-item",{attrs:{label:"Probendatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{initialValue:e.today,rules:[{required:!0,message:"Datum der Probenabnahme"}]}],expression:"[\n            'eventDate',\n            {\n              initialValue: today,\n              rules: [\n                {\n                  required: true,\n                  message: 'Datum der Probenabnahme',\n                },\n              ],\n            },\n          ]"}],attrs:{value:e.today}})],1),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}],attrs:{autoSize:{minRows:3,maxRows:5},placeholder:"Kommentar hinzufügen"}})],1),n("a-divider"),n("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[n("a-button",{attrs:{"html-type":"submit",type:"primary"}},[e._v(" Speichern ")])],1)],1)],1)],1)},Br=[],Lr=(n("a4d3"),n("e01a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{attrs:{label:e.label}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:e.validation,expression:"validation"}],ref:"input",attrs:{disabled:e.disabled,placeholder:"Suche über ID, Name, Stadt",defaultActiveFirstOption:!1,showSearch:!0,showArrow:!1,filterOption:!1},on:{search:e.handleSearch}},e._l(e.result,(function(t){return n("a-select-option",{key:t.id},[e._v(" "+e._s(t.name)+" ("+e._s(t.city)+") ")])})),1)],1)}),Vr=[],Gr=i["a"].extend({name:"LaboratoryInput",props:["initialLabs","validation","label","form","disabled"],data:function(){return{result:[]}},watch:{initialLabs:function(e){e&&e.length>0&&(this.result=e)}},methods:{handleSearch:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&!(e.length<2)){n.next=4;break}a=[],n.next=7;break;case 4:return n.next=6,N.queryAllLaboratoriesUsingGet({id:e});case 6:a=n.sent;case 7:t.result=a;case 8:case"end":return n.stop()}}),n)})))()}}}),$r=Gr,Mr=Object(u["a"])($r,Lr,Vr,!1,null,"25d3b7ec",null),Yr=Mr.exports,Hr=[{id:"RACHENABSTRICH",label:"Rachenabstrich"},{id:"NASENABSTRICH",label:"Nasenabstrich"},{id:"VOLLBLUT",label:"Vollblut"}],Qr=i["a"].extend({name:"RegisterTest",components:{PatientInput:Jn,LaboratoryInput:Yr,DateInput:_n},data:function(){return{form:this.$form.createForm(this),testTypes:Et,testMaterials:Hr,today:pt()()}},methods:{handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){var a=Object(f["a"])(Object(f["a"])({},n),{},{laboratory:{id:n.laboratoryId},patient:{id:n.patientId},eventType:"TEST_SUBMITTED",status:"TEST_SUBMITTED"});N.setTestUsingPost(a).then((function(t){e.form.resetFields();var n=e.$createElement;e.$success({title:"Der Test wurde erfolgreich angelegt.",content:n("div",{},[n("div","Test ID: ".concat(t.testId)),n("div","Patient: ".concat(t.patient.firstName," ").concat(t.patient.lastName))])})})).catch((function(t){var n={message:"Fehler beim Registrieren des Tests.",description:t.message};"CONSTRAINT_VIOLATION"===t.message&&(n.description="Dieser Test bei diesem Labor ist bereits einem anderen Patienten zugeordnet."),e.$notification.error(n)}))}}))}}}),Kr=Qr,Jr=Object(u["a"])(Kr,zr,Br,!1,null,"1d50c25c",null),Zr=Jr.exports,Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"max-width":"500px",margin:"0 auto"}},[n("a-page-header",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{title:"Quarantäne vormerken","sub-title":""}}),n("a-card",[n("a-form",{attrs:{form:e.form,layout:"vertical"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[this.givenPatientId?n("a-form-item",{attrs:{label:"Patienten-ID"}},[e._v(" "+e._s(this.$route.params.patientFirstName)+" "+e._s(this.$route.params.patientLastName)+" ("+e._s(this.$route.params.patientId)+") ")]):n("a-form-item",{attrs:{label:"Patienten-ID"}},[n("PatientInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["patientId",{rules:[{required:!0,message:"Bitte geben Sie die Patienten-ID ein."}]}],expression:"[\n            'patientId',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte geben Sie die Patienten-ID ein.',\n                },\n              ],\n            },\n          ]"}],on:{select:e.onPatientSwitch}})],1),n("a-form-item",{attrs:{label:"Quarantäne bis"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateUntil",{rules:[{required:!0,message:"Bis wann soll der Patient in Quarantäne?"}],initialValue:e.today}],expression:"[\n            'dateUntil',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bis wann soll der Patient in Quarantäne?',\n                },\n              ],\n              initialValue: today,\n            },\n          ]"}]})],1),n("a-form-item",{attrs:{label:"Vorgemerkt am"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{rules:[{required:!1,message:"Datum, für welches der Vermerk erfasst werden soll."}],initialValue:e.today}],expression:"[\n            'eventDate',\n            {\n              rules: [\n                {\n                  required: false,\n                  message:\n                    'Datum, für welches der Vermerk erfasst werden soll.',\n                },\n              ],\n              initialValue: today,\n            },\n          ]"}]})],1),n("a-checkbox",{staticStyle:{"margin-bottom":"15px"},attrs:{disabled:0===e.contacts.length,checked:e.sendContactsToQuarantine},on:{change:e.sendContactsToQuarantineChanged}},[e._v(" Quarantäne auch für alle Kontaktpersonen vormerken ")]),n("div",{staticStyle:{"margin-bottom":"15px"}},[0===e.contacts.length?n("div",{staticStyle:{"margin-bottom":"15px"}},[e._v(" Keine Kontaktpersonen hinterlegt ")]):e._e(),e._l(e.contacts,(function(t){return n("div",{key:t.id,class:e.sendContactsToQuarantine?"":"send-to-quarantine-disabled",staticStyle:{padding:"10px",display:"flex","text-align":"left","align-items":"center"}},[n("a-button",{staticStyle:{"margin-right":"15px"},attrs:{icon:"user",type:e.sendContactsToQuarantine?"primary":"dashed",title:"Patientendaten anzeigen"},on:{click:function(n){return e.showPatient(t.contact.id)}}}),n("div",[n("div",[e._v(" "+e._s(t.contact.firstName)+" "+e._s(t.contact.lastName)+" ")]),n("div",[e._v("Datum Kontakt: 21.04.2020")])]),n("div",{staticStyle:{"margin-left":"15px"}},[n("div",[t.contact.infected?n("span",{staticStyle:{color:"red"}},[e._v(" Infiziert ")]):n("span",[e._v("Infektionsstatus unbekannt")])]),n("div",[t.contact.inQuarantine?n("span",[e._v(" In Quarantäne ")]):n("span",{style:"color: "+(t.contact.infected?"red":"unset")+";"},[e._v(" Keine Quarantäne ")])])])],1)}))],2),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}],attrs:{autoSize:{minRows:3,maxRows:5},placeholder:"Kommentar hinzufügen"}})],1),n("a-divider"),n("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[n("a-button",{attrs:{"html-type":"submit",type:"primary"}},[e._v(" Speichern ")])],1)],1)],1)],1)},Xr=[],ei=i["a"].extend({name:"RequestQuarantine",components:{PatientInput:Jn,DateInput:_n},created:function(){this.givenPatientId&&this.onPatientSwitch(this.givenPatientId)},data:function(){return{form:this.$form.createForm(this),patient:void 0,today:pt()(),contacts:[],sendContactsToQuarantine:!1}},computed:{givenPatientId:function(){return this.$route.params.patientId}},methods:{moment:pt.a,onPatientSwitch:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,N.getExposureContactsForPatientUsingGet(e);case 2:t.contacts=n.sent;case 3:case"end":return n.stop()}}),n)})))()},showPatient:function(e){this.$router.push({name:"patient-detail",params:{id:e}})},sendContactsToQuarantineChanged:function(){this.sendContactsToQuarantine=!this.sendContactsToQuarantine},handleSubmit:function(){var e=this;this.form.validateFields(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n,a){var r,i,s,o,u,c,l,d,m,p,f,h,v,g,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return r={dateUntil:a.dateUntil.format("YYYY-MM-DD"),eventDate:a.eventDate?a.eventDate.format("YYYY-MM-DD"):void 0,comment:a.comment},i=e.givenPatientId?e.givenPatientId:a.patientId,s="",t.prev=5,t.next=8,N.requestQuarantineUsingPost(i,r);case 8:o=t.sent,s=pt()(o.quarantineUntil).format("DD.MM.YYYY"),e.sendContactsToQuarantine||(u=e.$createElement,e.$success({title:"Der Quarantänevermerk wurde erfasst.",content:u("div",{},[u("div","Patient: ".concat(o.firstName," ").concat(o.lastName)),u("div","In Quarantäne bis: ".concat(s))])}),e.resetForm()),t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](5),console.error(t.t0),c={message:"Fehler beim hinterlegen des Quarantänevermerks",description:t.t0.message},e.$notification.error(c);case 18:if(!e.sendContactsToQuarantine){t.next=53;break}l=[],d=Object(oa["a"])(e.contacts),t.prev=21,d.s();case 23:if((m=d.n()).done){t.next=44;break}if(p=m.value,f=p.contact,f){t.next=28;break}return t.abrupt("continue",42);case 28:if(h=f.id,h){t.next=31;break}return t.abrupt("continue",42);case 31:return t.prev=31,t.next=34,N.requestQuarantineUsingPost(h,r);case 34:t.next=42;break;case 36:t.prev=36,t.t1=t["catch"](31),console.error("Could not send "+h+" to quarantine:"),console.error(t.t1),v=f.firstName+" "+f.lastName+" (ID: "+h+")",l.push(v);case 42:t.next=23;break;case 44:t.next=49;break;case 46:t.prev=46,t.t2=t["catch"](21),d.e(t.t2);case 49:return t.prev=49,d.f(),t.finish(49);case 52:l.length>0?(g={message:"Fehler beim hinterlegen des Quarantänevermerks",description:"".concat(l.length," von ").concat(e.contacts.length+1," Quarantänen konnten nicht vorgemerkt werden. Fehler bei: ").concat(l)},e.$notification.error(g)):(b=e.$createElement,e.$success({title:"Der Quarantänevermerk wurde vermerkt.",content:b("div",{},[b("div","Quarantäne für ".concat(e.contacts.length+1," Patienten wurde vorgemerkt")),b("div","In Quarantäne bis: ".concat(s))])}),e.resetForm());case 53:case"end":return t.stop()}}),t,null,[[5,13],[21,46,49,52],[31,36]])})));return function(e,n){return t.apply(this,arguments)}}())},resetForm:function(){this.form.resetFields(),this.contacts=[],this.givenPatientId&&this.$router.push({name:"patient-detail",params:{id:this.givenPatientId}})}}}),ti=ei,ni=(n("4f40"),Object(u["a"])(ti,Wr,Xr,!1,null,null,null)),ai=ni.exports,ri=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"max-width":"1000px",margin:"0 auto"}},[n("a-page-header",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{title:"In Quarantäne senden","sub-title":""}},[n("template",{slot:"extra"},[n("a-button",{staticClass:"download-all-button",attrs:{icon:"download"},on:{click:e.downloadAll}},[e._v(" Alle Herunterladen ")]),n("a-button",{staticClass:"clear-all-button",attrs:{type:"primary",icon:"play-circle"},on:{click:e.showModal}},[e._v(" Quarantäne anordnen ")])],1),e.quarantinesByZip.length>0?n("a-row",{attrs:{type:"flex"}},[n("a-statistic",{attrs:{title:"Vorgemerkt für Quarantäne",suffix:"Personen",value:e.quarantinesByZip.length}})],1):n("div",{staticStyle:{background:"white",padding:"20px"}},[n("a-empty",{attrs:{description:"Aktuell wurden keine Patienten für Quarantäne vorgemerkt."}})],1)],2),e._l(e.quarantinesByZip,(function(t){return n("a-card",{key:t.zip,staticStyle:{"max-width":"500px",margin:"2rem auto"},attrs:{bodyStyle:"padding:0;",title:"PLZ "+t.zip+(t.cityName?" - "+t.cityName:""),align:"left"}},[n("a-table",{attrs:{columns:e.columnsQuarantines,dataSource:t.quarantines,rowKey:function(e){return e.id},pagination:!1},scopedSlots:e._u([{key:"until",fn:function(t){return[e._v(" "+e._s(e.moment(t).format("DD.MM.YYYY"))+" ")]}},{key:"name",fn:function(t){return[n("a",{on:{click:function(n){return e.showPatient(t.id)}}},[e._v(e._s(t.firstName)+" "+e._s(t.lastName))])]}},{key:"timestamp",fn:function(t){return[e._v(" "+e._s(e.moment(t).format("DD.MM.YYYY HH:mm"))+" ")]}}],null,!0)})],1)})),n("a-modal",{attrs:{title:"Bitte bestätigen","ok-text":"Ja","cancel-text":"Abbrechen"},on:{ok:e.updatePatients},model:{value:e.confirmVisible,callback:function(t){e.confirmVisible=t},expression:"confirmVisible"}},[n("p",[e._v(" Sollen die Quarantänen von "+e._s(e.quarantinesByZip.length)+" Patienten in den Status 'Quarantäne angeordnet' überführt werden? ")]),n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"Datum der Anordnung (optional):"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{initialValue:e.today,rules:[{required:!1,message:"Datum der Anordnung"}]}],expression:"[\n            'eventDate',\n            {\n              initialValue: today,\n              rules: [\n                {\n                  required: false,\n                  message: 'Datum der Anordnung',\n                },\n              ],\n            },\n          ]"}]})],1)],1)],1)],2)},ii=[],si=[{title:"Quarantäne bis",key:"until",scopedSlots:{customRender:"until"}},{title:"Name",key:"name",dataIndex:"patient",scopedSlots:{customRender:"name"}},{title:"Eingereicht um",key:"timestmap",dataIndex:"versionTimestamp",scopedSlots:{customRender:"timestamp"}}],oi=i["a"].extend({name:"SendToQuarantine",components:{DateInput:_n},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o,u,c,l,d,m,p,f,h,v,g,b,y,x,S,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b=function(e){return null!==e&&void 0!==e},t.next=3,N.getSelectedForQuarantineUsingGet();case 3:n=t.sent,a=[],r=Object(oa["a"])(n);try{for(s=function(){var e,t=i.value,n=(null===t||void 0===t||null===(e=t.patient)||void 0===e?void 0:e.zip)||"Unbekannt",r=a.find((function(e){return e.zip===n}));r||(r={zip:n,quarantines:[],cityName:""},a.push(r)),r.quarantines.push(t)},r.s();!(i=r.n()).done;)s()}catch(w){r.e(w)}finally{r.f()}for(e.quarantinesByZip=a,o=function(){var e=c[u];W(e.zip).then((function(t){t&&t.length>0&&(e.cityName=t[0].fields.note)}))},u=0,c=a;u<c.length;u++)o();l=[],d=Object(oa["a"])(e.quarantinesByZip);try{for(d.s();!(m=d.n()).done;){p=m.value,f=Object(oa["a"])(p.quarantines);try{for(f.s();!(h=f.n()).done;)v=h.value,l.indexOf(v.patient.id)<0&&l.push(v.patient.id)}catch(w){f.e(w)}finally{f.f()}}}catch(w){d.e(w)}finally{d.f()}return t.next=15,N.getExposureSourceContactsForPatientsUsingPost(l);case 15:for(y in g=t.sent,g)x=g[y].filter(b),e.patientInfectionSources.set(y,x);return t.next=19,N.getPatientsCurrentByTypeUsingPost(l);case 19:for(_ in S=t.sent,S)e.patientTestResults.set(_,S[_].map((function(e){return e.status})));case 21:case"end":return t.stop()}}),t)})))()},data:function(){return{quarantinesByZip:[],columnsQuarantines:si,confirmVisible:!1,form:this.$form.createForm(this),today:pt()(),patientInfectionSources:new Map,patientTestResults:new Map}},methods:{moment:pt.a,showPatient:function(e){this.$router.push({name:"patient-detail",params:{id:e}})},downloadAll:function(){var e,t=this,n="",a=0,r=Object(oa["a"])(this.quarantinesByZip);try{var i=function(){var r=e.value;n+=r.quarantines.map((function(e){var n=e.patient;if(n){var i="".concat(n.street," ").concat(n.houseNumber," ").concat(n.zip," ").concat(n.city),s="".concat(n.stayStreet," ").concat(n.stayHouseNumber," ").concat(n.stayZip," ").concat(n.stayCity);s="null null null null"===s?"":s;var o=e.comment?e.comment:"",u=t.patientInfectionSources.get(n.id),c="";u&&(c=u.map((function(e){return"".concat(e.source.firstName," ").concat(e.source.lastName,";").concat(e.dateOfContact,";").concat(e.context)})).join(";"),a=a<u.length?u.length:a);var l=t.patientTestResults.get(n.id),d="";return l&&(d=l.map((function(e){var t=Ot.find((function(t){return t.id===e}));return t?t.label:e})).join(" - ")),"".concat(r.zip,";").concat(pt()(e.until).format("DD.MM.YYYY"),";").concat(null===n||void 0===n?void 0:n.firstName,";").concat(null===n||void 0===n?void 0:n.lastName,";").concat(i,";").concat(n.gender,";").concat(null===n||void 0===n?void 0:n.dateOfBirth,";").concat(o,";").concat(d,";").concat(s,";").concat(c)}return console.warn("Quarantine without patient"),""})).join("\n")+"\n"};for(r.s();!(e=r.n()).done;)i()}catch(c){r.e(c)}finally{r.f()}var s="PLZ;Quarantäne bis;Vorname;Nachname;Adresse;Geschlecht;Geburtsdatum;Quarantänekommentar;Testresultat;Aufenthaltsort";if(1===a)s+=";Indexpatient Name;Indexpatient Kontaktdatum;Indexpatient Kontext";else for(var o=1;o<a+1;o++)s+=";Indexpatient ".concat(o," Name;Indexpatient ").concat(o," Kontaktdatum;Indexpatient ").concat(o," Kontext");var u=pt()().format("YYYY_MM_DD")+"_quarantaene_anordnung.csv";Za(s+"\n"+n,u)},updatePatients:function(){var e=this;this.confirmVisible=!1;var t,n=[],a=Object(oa["a"])(this.quarantinesByZip);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push.apply(n,Object(Nt["a"])(r.quarantines.map((function(e){var t;return(null===(t=e.patient)||void 0===t?void 0:t.id)||""}))))}}catch(s){a.e(s)}finally{a.f()}var i={patientIds:n,eventDate:this.form.getFieldValue("eventDate")?this.form.getFieldValue("eventDate").format("YYYY-MM-DD"):void 0};N.sendToQuarantineUsingPost(i).then((function(){var t=e.$createElement;e.$success({title:"Quarantänen aktualisiert.",content:t("div",{},[t("div","Die Quarantänen von ".concat(n.length," Patienten wurden aktualisiert."))])}),e.quarantinesByZip=[]})).catch((function(t){var n={message:"Fehler beim Aktualisieren der Quarantänen",description:t.message};e.$notification.error(n)}))},showModal:function(){this.confirmVisible=!0}}}),ui=oi,ci=Object(u["a"])(ui,ri,ii,!1,null,null,null),li=ci.exports,di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"max-width":"500px",margin:"0 auto"}},[n("a-page-header",{staticStyle:{"padding-left":"0","padding-right":"0"},attrs:{title:"Testresultat zuordnen","sub-title":""}}),n("a-card",[n("a-form",{attrs:{form:e.form,layout:"vertical"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("LaboratoryInput",{attrs:{form:e.form,"initial-labs":e.laboratories,validation:["laboratoryId",{rules:[{required:!0,message:"Bitte wählen Sie ein Labor aus."}]}],label:"Labor"}}),n("TestInput",{attrs:{form:e.form,validation:["testId",{rules:[{required:!0,message:"Bitte geben Sie Ihre Test-ID ein."}]}],label:"Test-ID",placeholder:"z.B 1337-4237-9438"}}),n("a-form-item",{attrs:{label:"Testresultat"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"Bitte geben Sie das Testresultat an."}]}],expression:"[\n            'status',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: 'Bitte geben Sie das Testresultat an.',\n                },\n              ],\n            },\n          ]"}],staticClass:"imis-radio-group"},e._l(e.testResults,(function(t){return n("a-radio",{key:t.id,attrs:{value:t.id}},[n("a-icon",{attrs:{type:t.icon}}),e._v(" "+e._s(t.label)+" ")],1)})),1)],1),n("a-form-item",{attrs:{label:"Ergebnisdatum"}},[n("DateInput",{directives:[{name:"decorator",rawName:"v-decorator",value:["eventDate",{initialValue:e.today,rules:[{required:!1,message:"Datum der Probenabnahme"}]}],expression:"[\n            'eventDate',\n            {\n              initialValue: today,\n              rules: [\n                {\n                  required: false,\n                  message: 'Datum der Probenabnahme',\n                },\n              ],\n            },\n          ]"}]})],1),n("a-form-item",{attrs:{label:"Kommentar"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment"],expression:"['comment']"}],attrs:{autoSize:{minRows:3,maxRows:5},placeholder:"Kommentar hinzufügen"}})],1),n("a-form-item",{attrs:{"wrapper-col":{span:24}}},[n("a-button",{on:{click:function(t){return e.uploadHint()}}},[n("a-icon",{attrs:{type:"upload"}}),e._v(" Test Report hochladen ")],1)],1),n("a-divider"),n("a-form-item",{attrs:{"wrapper-col":{span:24,offset:0}}},[n("a-button",{attrs:{"html-type":"submit",type:"primary"}},[e._v(" Speichern ")])],1)],1)],1)],1)},mi=[],pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form-item",{attrs:{label:e.label}},[n("a-auto-complete",{directives:[{name:"decorator",rawName:"v-decorator",value:e.validation,expression:"validation"}],attrs:{placeholder:"Suche über ID"}},[n("template",{slot:"dataSource"},e._l(e.result,(function(t){return n("a-select-option",{key:t},[e._v(e._s(t))])})),1)],2)],1)},fi=[],hi=i["a"].extend({name:"TestInput",props:["validation","label","form"],data:function(){return{result:[]}}}),vi=hi,gi=Object(u["a"])(vi,pi,fi,!1,null,"173ec5ad",null),bi=gi.exports,yi=i["a"].extend({name:"SubmitTestResult",computed:Object(f["a"])({},B.mapGetters({institution:"institution"})),components:{TestInput:bi,LaboratoryInput:Yr,DateInput:_n},props:{},data:function(){return{form:this.$form.createForm(this),fileBytes:void 0,today:pt()(),laboratories:[],testResults:Ot.filter((function(e){return"TEST_POSITIVE"===e.id||"TEST_NEGATIVE"===e.id}))}},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.institution()){t.next=3;break}return t.next=3,e.getAuthenticatedInstitution();case 3:n=e.institution(),n&&"LABORATORY"===n.type?(e.laboratories=[n],e.form.setFieldsValue({laboratoryId:n.id})):e.form.setFieldsValue({laboratoryId:""});case 5:case"end":return t.stop()}}),t)})))()},methods:Object(f["a"])(Object(f["a"])({},B.mapActions({getAuthenticatedInstitution:"getAuthenticatedInstitution"})),{},{uploadHint:function(){var e={message:"Das Labor kann hier den Bericht mit hochladen. Aus Sicherheitsgründen ist diese Funktion im Prototyp deaktiviert.",description:""};this.$notification.info(e)},beforeUpload:function(e){var t=this,n=function(e){t.fileBytes=e},a=new FileReader;return a.onload=function(e){for(var t=unescape(encodeURIComponent(e.target.result)),a=[],r=0;r<t.length;r++)a.push(t.charCodeAt(r));n(a)},a.readAsDataURL(e),!1},handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){var a=Object(f["a"])(Object(f["a"])({},n),{},{eventType:"TEST_POSITIVE"===n.status?"TEST_FINISHED_POSITIVE":"TEST_FINISHED_NEGATIVE",laboratory:{id:n.laboratoryId}});N.setTestByTestAndLabIdUsingPost(a).then((function(t){var n=e.$createElement;e.$success({title:"Der Test wurde erfolgreich aktualisiert.",content:n("div",{},[n("div","Test ID: ".concat(t.testId)),n("div","Neuer Test Status: ".concat(Ot.find((function(e){return e.id===t.status}))?Ot.find((function(e){return e.id===t.status})).label:t.status))])})})).catch((function(t){var n={message:"Fehler beim Hinzufügen des Testergebnisses.",description:t.message};"TEST_NOT_FOUND"===t.message&&(n.description="Für diese Kombination aus Labor und Test-ID sind keine Daten hinterlegt."),e.$notification.error(n)}))}}))}})}),xi=yi,Si=Object(u["a"])(xi,di,mi,!1,null,"13ef59d0",null),_i=Si.exports,wi=n("8c4f");function Oi(){return window.localStorage.token}i["a"].use(wi["a"]);var ki=function(e,t,n){Oi()?n({name:"app"}):n()},Ii=function(e,t,n){t.query.redirect?n({path:t.query.redirect}):n()},Pi=["ROLE_TEST_SITE","ROLE_LABORATORY","ROLE_DOCTORS_OFFICE","ROLE_CLINIC","ROLE_GOVERNMENT_AGENCY","ROLE_DEPARTMENT_OF_HEALTH"],Ei=[{name:"dashboard",path:"dashboard",component:Me,meta:{navigationInfo:{icon:"dashboard",title:"Dashboard",authorities:Pi,showInSidenav:!0}}},{name:"register-patient",path:"register-patient",component:Fr,meta:{navigationInfo:{icon:"user-add",title:"Patient Registrieren",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_CLINIC","ROLE_DOCTORS_OFFICE","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"register-test",path:"register-test",component:Zr,meta:{navigationInfo:{icon:"deployment-unit",title:"Probe zuordnen",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_CLINIC","ROLE_DOCTORS_OFFICE","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"submit-test-result",path:"submit-test-result",component:_i,meta:{navigationInfo:{icon:"experiment",title:"Testresultat zuordnen",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_LABORATORY","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"patient-list",path:"patient-list",component:cr,meta:{navigationInfo:{icon:"team",title:"Alle Patienten",authorities:["ROLE_DEPARTMENT_OF_HEALTH","ROLE_CLINIC","ROLE_DOCTORS_OFFICE","ROLE_TEST_SITE"],showInSidenav:!0}}},{name:"request-quarantine",path:"request-quarantine",component:ai,meta:{navigationInfo:{icon:"safety",title:"Quarantäne vormerken",authorities:["ROLE_DEPARTMENT_OF_HEALTH"],showInSidenav:!0}}},{name:"send-to-quarantine",path:"send-to-quarantine",component:li,meta:{navigationInfo:{icon:"safety",title:"In Quarantäne senden",authorities:["ROLE_DEPARTMENT_OF_HEALTH"],showInSidenav:!0}}},{name:"public-statistics",path:"public-statistics",component:kr,meta:{navigationInfo:{icon:"stock",title:"Statistiken",authorities:Pi,showInSidenav:!0}}},{name:"patient-detail",path:"patient/:id",component:Qa},{name:"account",path:"account",component:xe,meta:{navigationInfo:{icon:"user",title:"Benutzerkonto",authorities:Pi,showInSidenav:!1}}},{path:"*",redirect:{name:"app"}}],Ti=[{name:"landing-page",path:"/",component:Ze},{name:"impressum",path:"/impressum",component:at},{name:"public-register",path:"/public-register",component:gr},{name:"login",path:"/login",component:ct,beforeEnter:ki,beforeRouteLeave:Ii},{name:"register-institution",path:"/register-institution/:id",component:Ar,beforeEnter:ki},{name:"app",path:"/app",component:ze,children:Ei,redirect:{name:"dashboard"},meta:{requiresAuth:!0}},{path:"*",redirect:"/"}],Ci=Ei.filter((function(e){var t,n;return!e.path.includes("*")&&(null===(t=e.meta)||void 0===t||null===(n=t.navigationInfo)||void 0===n?void 0:n.showInSidenav)})),Ni=new wi["a"]({mode:"history",base:"/",routes:Ti});Ni.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?Oi()?n():n({path:"/login",query:{redirect:e.fullPath}}):n()}));var Ai=Ni,Di=n("2f62");i["a"].use(Di["b"]);var ji=new j["c"]({modules:{authModule:z,patientModule:St}}),qi=Object(j["f"])(ji),Ri=qi;i["a"].config.productionTip=!1,i["a"].use(r["a"]),z.context(Ri).actions.init(),new i["a"]({router:Ai,store:Ri,render:function(e){return e(d)}}).$mount("#app")},cf05:function(e,t,n){e.exports=n.p+"img/logo.503b2e35.png"},d08f:function(e,t,n){"use strict";n("7f9b")},d6db:function(e,t,n){"use strict";n("e67a")},d7ec:function(e,t,n){"use strict";n("c977")},d8cc:function(e,t,n){"use strict";n("e8e2")},e67a:function(e,t,n){},e8e2:function(e,t,n){},ece8:function(e,t,n){e.exports=n.p+"img/hih-logo.99ab8304.png"},ed4c:function(e,t,n){},f409:function(e,t,n){"use strict";n("3b76")},fad3:function(e,t,n){e.exports=n.p+"img/ehealthcomlogo.33f2de0a.jpg"},fc95:function(e,t,n){e.exports=n.p+"img/tech4germany-logo.b016f600.png"},fce8:function(e,t,n){"use strict";n("a4ca")},ff03:function(e,t,n){e.exports=n.p+"img/sueddeutsche-logo.79b5ae0e.jpg"}});
//# sourceMappingURL=app.d4134cf5.js.map